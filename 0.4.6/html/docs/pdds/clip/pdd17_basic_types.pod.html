<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Parrot&#39;s Core PMC types</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Parrot&#39;s Core PMC types</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../html/index.html">Contents</a> | <a href="../../../../html/docs.html">Documentation</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>docs/pdds/pdd17_basic_types.pod &#45; Parrot&#39;s Core PMC types</p>

<p>{{ NOTE: could use a better name to differentiate it from PDD 04 datatypes.
Possibly pdd17_core_pmcs.pod.
}}</p>

<h1><a name="ABSTRACT"
>ABSTRACT <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>This PDD documents the core Parrot PMC types and their behavior.</p>

<h1><a name="VERSION"
>VERSION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>$Revision$</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>Parrot has a number of core PMC types that all programs can guarantee will be available to them.
(With the possible exception of Parrot programs executing on an embedded device or other restricted environment)</p>

<h1><a name="IMPLEMENTATION"
>IMPLEMENTATION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<h2><a name="Scalar_types"
>Scalar types <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="Undef"
>Undef</a></dt><p class="pad"></p>

<dd>This is the generic no&#45;value type.
It has a numeric value of zero,
a string value of empty string,
and a boolean value of false.
It will,
on assignment,
turn itself into a PMC of the source type,
or if assigned a basic type will turn itself into one of the wrapper PMC types (detailed below) for the basic types.</dd><p class="pad"></p>

<dt><a name="Integer"
>Integer</a></dt><p class="pad"></p>

<dd>The PMC wrapper for Parrot&#39;s low&#45;level integer type.
Always an integer,
with other types auto&#45;converted to an integer when stored into this PMC.
The range and behaviour of the Integer PMC is identical to the platform low&#45;level integer.</dd><p class="pad"></p>

<dd>The boolean value for an Integer is false if zero,
otherwise true.</dd><p class="pad"></p>

<dd>Floating point,
string,
and bignum values assigned to an Integer PMC round to the nearest integer.
Floats,
or strings which resolve to numbers,
cap at the platform maximum or minimum integer value.</dd><p class="pad"></p>

<dd>Integer PMCs take on a value of 1 if a boolean true is assigned,
and a value of 0 if a boolean false is assigned.</dd><p class="pad"></p>

<dd>If an out&#45;of&#45;range value is assigned to an Integer PMC,
the PMC will throw an exception if exact math is enabled.</dd><p class="pad"></p>

<dt><a name="Float"
>Float</a></dt><p class="pad"></p>

<dd>The PMC wrapper for Parrot&#39;s low&#45;level floating point type.
Always a float,
with other types autoconverted to a float when stored into this PMC.</dd><p class="pad"></p>

<dd>The boolean value for a Float is false if exactly zero,
otherwise true.</dd><p class="pad"></p>

<dd>When converted to an integer,
floats round to the closest integer,
capping at the platform maximum or minimum integer value.</dd><p class="pad"></p>

<dd>When converting to a string,
floats use the platform default snprintf format.</dd><p class="pad"></p>

<dt><a name="String"
>String</a></dt><p class="pad"></p>

<dd>The PMC wrapper for Parrot&#39;s low&#45;level string type.
Always a simple string,
with other types autoconverted to a string when stored into this PMC.</dd><p class="pad"></p>

<dd>The boolean value for a String is false if empty or the string &#39;0&#39; (a one character string holding a zero) otherwise true.
This PMC autoconverts to an integer or float when its integer or float value is fetched.</dd><p class="pad"></p>

<dt><a name="Boolean"
>Boolean</a></dt><p class="pad"></p>

<dd>A true/false value.
Returns 0 for false,
1 for true when fetched as an integer or float,
empty string for false and &#39;1&#39; for true when fetched as a string.</dd><p class="pad"></p>

<dd>{{ IMPLEMENTATION NOTE: move the definitions of the Python constants &#34;True&#34; and &#34;False&#34; out of src/pmc/boolean.pmc.
They belong in HLL&#45;specific code,
not in the core boolean type.
}}</dd><p class="pad"></p>

<dt><a name="BigInt"
>BigInt</a></dt><p class="pad"></p>

<dd>An arbitrary precision integer.</dd><p class="pad"></p>

<dt><a name="BigNum"
>BigNum</a></dt><p class="pad"></p>

<dd>The PMC wrapper for Parrot&#39;s low&#45;level BigNum type.
{{ NOTE: this type doesn&#39;t seem to exist.
}}</dd><p class="pad"></p>

<dt><a name="Complex"
>Complex</a></dt><p class="pad"></p>

<dd>A complex number,
consisting of a real part and an imaginary part.
{{ NOTE: is this a complete and useful implementation of complex numbers?
}}</dd><p class="pad"></p>

<dt><a name="ParrotClass"
>ParrotClass</a></dt><p class="pad"></p>

<dd>The PMC for Parrot&#39;s class.
(Note that this may go away if we ultimately make all classes just objects)</dd><p class="pad"></p>

<dt><a name="ParrotObject"
>ParrotObject</a></dt><p class="pad"></p>

<dd>The PMC for Parrot&#39;s base object type.</dd><p class="pad"></p>

<dt><a name="Ref"
>Ref</a></dt><p class="pad"></p>

<dd>The PMC that represents a reference to another PMC.
Delegates all functions to the referred&#45;to PMC.</dd><p class="pad"></p>

<dt><a name="Random"
>Random</a></dt><p class="pad"></p>

<dd>A singleton PMC that generates a random number.
{{ NOTE: Why do we have this?
}}</dd><p class="pad"></p>
</dl>

<h2><a name="Array_types"
>Array types <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<p>Note that for the following types you can set the size of the array by using the VTABLE_set_integer_native() method.
Assigning an integer to the array as a whole sets the array to that size.</p>

<p>Size&#45;changing operations (such as push,
pop,
shift,
unshift,
and splice) on statically&#45;sized arrays will throw an exception.</p>

<dl>
<dt><a name="Array"
>Array</a></dt><p class="pad"></p>

<dd>The base class for all array types (a statically sized array for any arbitrary type).
New array types can be derived from the base Array.
In user code it is recommended to use one of the specific array types below,
rather than the base type.</dd><p class="pad"></p>

<dt><a name="FixedBooleanArray"
>FixedBooleanArray</a></dt><p class="pad"></p>

<dd>A statically sized array which holds only Boolean values.</dd><p class="pad"></p>

<dt><a name="ResizableBooleanArray"
>ResizableBooleanArray</a></dt><p class="pad"></p>

<dd>A dynamically sized array which holds only Boolean values.</dd><p class="pad"></p>

<dt><a name="FixedIntegerArray"
>FixedIntegerArray</a></dt><p class="pad"></p>

<dd>A statically sized array which holds only Integer values.</dd><p class="pad"></p>

<dt><a name="ResizableIntegerArray"
>ResizableIntegerArray</a></dt><p class="pad"></p>

<dd>A dynamically sized array which holds only Integer values.</dd><p class="pad"></p>

<dt><a name="FixedFloatArray"
>FixedFloatArray</a></dt><p class="pad"></p>

<dd>A statically sized array which holds only Float values.</dd><p class="pad"></p>

<dt><a name="ResizableFloatArray"
>ResizableFloatArray</a></dt><p class="pad"></p>

<dd>A dynamically sized array which holds only Float values.</dd><p class="pad"></p>

<dt><a name="FixedPMCArray"
>FixedPMCArray</a></dt><p class="pad"></p>

<dd>A statically sized array which holds only PMC values.</dd><p class="pad"></p>

<dt><a name="ResizablePMCArray"
>ResizablePMCArray</a></dt><p class="pad"></p>

<dd>A dynamically sized array which holds only PMC values.</dd><p class="pad"></p>

<dt><a name="FixedStringArray"
>FixedStringArray</a></dt><p class="pad"></p>

<dd>A statically sized array which holds only String values.</dd><p class="pad"></p>

<dt><a name="ResizableStringArray"
>ResizableStringArray</a></dt><p class="pad"></p>

<dd>A dynamically sized array which holds only String values.</dd><p class="pad"></p>

<dt><a name="Exception"
>Exception</a></dt><p class="pad"></p>
</dl>

<h2><a name="Hash_types"
>Hash types <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="Hash"
>Hash</a></dt><p class="pad"></p>

<dd>A container with key&#45;value semantics.
The values are PMCs.</dd><p class="pad"></p>

<dt><a name="Env"
>Env</a></dt><p class="pad"></p>

<dd>Env is a singleton PMC class,
that is there is only one Env PMC in any interpreter.
This PMC gives access to the process&#39; environment variables&#45;&#45;reading from it returns the value of the named process environment variable,
while writing to it sets the value of a process environment variable.
For example,
to retrieve the current value of TERM (the terminal type on most Unix systems):</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>   new P1, .Env
   set S1, P1[&#39;TERM&#39;]</pre>

<dd>Note that an embedding system may override this behavior.</dd><p class="pad"></p>

<dt><a name="Namespace"
>Namespace</a></dt><p class="pad"></p>

<dt><a name="OrderedHash"
>OrderedHash</a></dt><p class="pad"></p>

<dt><a name="AddrRegistry"
>AddrRegistry</a></dt><p class="pad"></p>

<dd>Simulates reference counting for dead&#45;object detection and garbage collection.</dd><p class="pad"></p>
</dl>

<h2><a name="Subroutine_types"
>Subroutine types <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="Sub"
>Sub</a></dt><p class="pad"></p>

<dt><a name="Closure"
>Closure</a></dt><p class="pad"></p>

<dd>A closure: subroutine object plus captured lexical scope.</dd><p class="pad"></p>

<dt><a name="Coroutine"
>Coroutine</a></dt><p class="pad"></p>

<dt><a name="Continuation"
>Continuation</a></dt><p class="pad"></p>

<dt><a name="CSub"
>CSub</a></dt><p class="pad"></p>

<dt><a name="Eval"
>Eval</a></dt><p class="pad"></p>

<dt><a name="Exception_Handler"
>Exception_Handler</a></dt><p class="pad"></p>

<dt><a name="MultiSub"
>MultiSub</a></dt><p class="pad"></p>

<dt><a name="NCI"
>NCI</a></dt><p class="pad"></p>

<dd>A native call interface wrapper around a C function.</dd><p class="pad"></p>

<dt><a name="Bound_NCI"
>Bound_NCI</a></dt><p class="pad"></p>

<dd>An internal NCI method call bound to a particular call instance. {{ NOTE: where are these used? }}</dd><p class="pad"></p>

<dt><a name="Compiler"
>Compiler</a></dt><p class="pad"></p>

<dd>A subroutine implementing a language compiler. (Derived from NCI.)</dd><p class="pad"></p>
</dl>

<h2><a name="Binary_Math_operations"
>Binary Math operations <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<p>{{ NOTE: this section is barely a stub, and not particularly useful. I suggest deleting it. Any objections? }}</p>

<p>The following is a list of what should happen with the basic types when used in a binary math operation:</p>

<dl>
<dt><a name="Integer_x_Integer"
>Integer x Integer</a></dt><p class="pad"></p>

<dd>The operation is an integer.</dd><p class="pad"></p>
</dl>

<h1><a name="LANGUAGE_NOTES"
>LANGUAGE NOTES <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<h1><a name="FOOTNOTES"
>FOOTNOTES <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>List of footnotes to the text.</p>

<h1><a name="REFERENCES"
>REFERENCES <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<pre lang='und' xml:lang='und'>  src/pmc/*.pmc</pre>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
