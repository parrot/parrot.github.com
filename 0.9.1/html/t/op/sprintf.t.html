<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sprintf tests</title>
        <link rel="stylesheet" type="text/css"
            href="../../../resources/parrot.css"
            media="all">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </head>
    <body>
        <div id="wrapper">
            <div id="header">

                <img border=0 src="../../../resources/parrot_logo.png" id="logo" alt="parrot">
            </div> <!-- "header" -->
            <div id="divider"></div>
            <div id="mainbody">
                <div id="breadcrumb">
                    <a href="../../../html/index.html">Contents</a> &raquo; <a href="../../../html/tests.html">Tests</a> &raquo; sprintf tests
                </div>

<h1><a name="NAME"
>NAME</a></h1>

<p>t/op/sprintf.t &#45;&#45; sprintf tests</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    % prove t/op/sprintf.t</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>These tests are based on <code>sprintf</code> tests from perl 5.9.4.</p>

<p>Tests <code>sprintf</code>, excluding handling of 64&#45;bit integers or long doubles (if supported), of machine&#45;specific short and long integers, machine&#45;specific floating point exceptions (infinity, not&#45;a&#45;number, etc.), of the effects of locale, and of features specific to multi&#45;byte characters (under the utf8 pragma and such).</p>

<p>Individual tests are stored in the <em>sprintf_tests</em> file in the same directory; There is one test per line. In each test, there are three required fields:</p>

<ul>
<li>printf template</li>

<li>data to be formatted (as a parrot expression)</li>

<li>expected result of formatting</li>
</ul>

<p>Optional fields contain a comment.</p>

<p>Each field is separated by one or more tabs. If formatting requires more than one data item (for example, if variable field widths are used), the Parrot data expression should return a reference to an array having the requisite number of elements. Even so, subterfuge is sometimes required: see tests for <code>%n</code> and <code>%p</code>.</p>

<h1><a name="XXX:_FIXME:_TODO:"
>XXX: FIXME: TODO:</a></h1>

<p>Tests that are expected to fail on a certain OS can be marked as such by trailing the comment with a <code>skip:</code> section. Skips are tags separated by space consisting of a <code>$^O</code> optionally trailed with <code>:osvers</code>. In the latter case, all os&#45;levels below that are expected to fail. A special tag <code>all</code> is allowed for todo tests that should fail on any system.</p>

<pre>        %G      1234567e96      1.23457E+102    exponent too big skip: os390
        %.0f    &#45;0.1    &#45;0      C library bug: no minus skip: VMS
        %d      4       1       4 != 1 skip: all</pre>
            </div> <!-- "mainbody" -->
            <div id="divider"></div>
            <div id="footer">
	        Copyright &copy; 2002-2009, Parrot Foundation.
            </div>
        </div> <!-- "wrapper" -->
    </body>
</html>
