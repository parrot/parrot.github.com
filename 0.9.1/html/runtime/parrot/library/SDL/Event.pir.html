<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Parrot extension representing SDL Events</title>
        <link rel="stylesheet" type="text/css"
            href="../../../../../resources/parrot.css"
            media="all">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </head>
    <body>
        <div id="wrapper">
            <div id="header">

                <img border=0 src="../../../../../resources/parrot_logo.png" id="logo" alt="parrot">
            </div> <!-- "header" -->
            <div id="divider"></div>
            <div id="mainbody">
                <div id="breadcrumb">
                    <a href="../../../../../html/index.html">Contents</a> &raquo; <a href="../../../../../html/libs.html">Libraries</a> &raquo; Parrot extension representing SDL Events
                </div>

<h1><a name="NAME"
>NAME</a></h1>

<p>SDL::Event &#45; Parrot extension representing SDL Events</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    # load this library
    load_bytecode &#39;library/SDL/Event.pir&#39;

    # create a new SDL::Event object
    .local pmc event
    event = new &#39;SDL::Event&#39;

    # ... create a new event_handler and its hander_args

    # start the event loop
    event.&#39;process_events&#39;( event_handler, handler_args )

    # or handle one event at a time in your own loop
    event.&#39;handle_event&#39;( event_handler, handler_args )</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>SDL::Event encapsulates event information for SDL. This may change internally as we migrate to Parrot events, but most of the interesting information happens in SDL::EventHandler instead, so go read that first.</p>

<p>You may discover that you don&#39;t really care about this class beyond what you&#39;ve already learned from the SYNOPSIS already.</p>

<h1><a name="METHODS"
>METHODS</a></h1>

<p>The SDL::Event object has the following methods:</p>

<dl>
<dt><a name="init()"
>init()</a></dt>
Initializes the internal attributes of this object. Trust me, you need to do this, at least for now.The name of this method may change, per discussion on p6i. It may even go away.
<dt><a name="event()"
>event()</a></dt>
Returns the underlying <code>SDL_Event</code> structure. You probably don&#39;t need to use this directly, unless you&#39;re working with raw SDL calls.
<dt><a name="event_type(_event_type_)"
>event_type( event_type )</a></dt>
Given the number of an incoming event type, returns a string name representing that event. The possible event names live in the <code>SDL_Event.h</code> library; they&#39;re all lower cased here. For example, a key down event will have the name <code>key_down</code>.If you pass an unknown event type identifier, you&#39;ll receive a string containing <code>unknown</code>.<b>Note:</b> Arguably, this should operate on the current event, instead of requiring an argument. This may change in the future.
<dt><a name="event_keyname()"
>event_keyname()</a></dt>
Returns a string representing the name of the key for the current event. Note that the list of available keys is rather limited at the moment. There&#39;s also no error checking that the current event is even a key event.On the other hand, you probably should define an event handler instead of using these methods directly.If this method does not recognize the current key, it will return the string <code>unknown</code> instead.
<dt><a name="process_events(_event_handler,_handler_args,_[_check_interval_]_)"
>process_events( event_handler, handler_args, [ check_interval ] )</a></dt>
Given an <code>event_handler</code> object (either subclassing <code>SDL::EventHandler</code> or implementing its necessary methods) and a <code>Hash</code> of arguments to pass to all event handlers, loops around SDL&#39;s event loop and calls appropriate methods in <code>event_handler</code> corresponding to what happens.That is, if SDL reports a key down, this will call the <code>key_down</code> method of <code>event_handler</code>, passing <code>handler_args</code>.If you pass a numeric value as <code>check_interval</code>, this will poll for events every <code>check_interval</code> seconds. This makes it possible to check for events in your main thread, without breaking Parrot&#39;s own event loop (used for timers, for example). This is an optional parameter and can be any number of seconds or fractions thereof.For now, this will return if it detects a quit event. This may not be what you want and it may change in the future. It won&#39;t return otherwise. Arguably, it should, somehow.
<dt><a name="handle_event(_event_handler,_handler_args_)"
>handle_event( event_handler, handler_args )</a></dt>
Given an <code>event_handler</code> object (either subclass <a href='TODO'>SDL::EventHandler</a> or reimplement the appropriate methods yourself) and a <code>Hash</code> PMC of data to pass to all handler calls, handles <i>one</i> event, if any are present. If there are no events pending, this will return directly.This returns nothing interesting. Perhaps it should return true or false depending on whether it handled an event. Perhaps not.Use this method inside your own loop structure.
<dt><a name="dispatch_event(_event,_event_handler,_handler_args_)"
>dispatch_event( event, event_handler, handler_args )</a></dt>
Dispatches an event. You shouldn&#39;t call this directly. Instead, call <code>handle_event()</code> or <code>process_events()</code>.</dl>

<h1><a name="AUTHOR"
>AUTHOR</a></h1>

<p>Written and maintained by chromatic, &#60;chromatic at wgz dot org&#62;, with some design from Allison Randal. Please send patches, feedback, and suggestions to the Perl 6 Internals mailing list.</p>

<h1><a name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 2004&#45;2008, Parrot Foundation.</p>
            </div> <!-- "mainbody" -->
            <div id="divider"></div>
            <div id="footer">
	        Copyright &copy; 2002-2009, Parrot Foundation.
            </div>
        </div> <!-- "wrapper" -->
    </body>
</html>
