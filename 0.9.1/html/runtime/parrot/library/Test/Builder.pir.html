<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Parrot extension for building test modules</title>
        <link rel="stylesheet" type="text/css"
            href="../../../../../resources/parrot.css"
            media="all">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </head>
    <body>
        <div id="wrapper">
            <div id="header">

                <img border=0 src="../../../../../resources/parrot_logo.png" id="logo" alt="parrot">
            </div> <!-- "header" -->
            <div id="divider"></div>
            <div id="mainbody">
                <div id="breadcrumb">
                    <a href="../../../../../html/index.html">Contents</a> &raquo; <a href="../../../../../html/libs.html">Libraries</a> &raquo; Parrot extension for building test modules
                </div>

<h1><a name="NAME"
>NAME</a></h1>

<p>Test::Builder &#45; Parrot extension for building test modules</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    # load this library
    load_bytecode &#39;library/Test/Builder.pbc&#39;

    # create a new Test::Builder object
    .local pmc test

    test = new [ &#39;Test&#39;; &#39;Builder&#39; ]

    # plan to run ten tests
    test.&#39;plan&#39;( 10 )

    test.&#39;ok&#39;( 1, &#39;some test description&#39; )
    test.&#39;ok&#39;( 0, &#39;some test description&#39; )
    test.&#39;diag&#39;( &#39;the last test failed on purpose!&#39; )

    test.&#39;skip&#39;( 3, &#39;do not run these three tests&#39; )
    test.&#39;todo&#39;( 1, &#39;this is a todo test that passes&#39;, &#39;i am not sure&#39; )
    test.&#39;todo&#39;( 0, &#39;this is a todo test that fails&#39;, &#39; i am still not sure&#39; )

    test.&#39;skip&#39;( 4, &#39;cannot think of four more tests&#39; )

    # you must call this when you have finished!
    test.&#39;finish&#39;()</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Test::Builder is a pure&#45;Parrot library for building test modules. It manages test plans, formats and reports test results correctly, and has methods to manage passing, failing, skip, and TODO tests. It provides a simple, single backend for multiple test modules to use within your tests.</p>

<h1><a name="METHODS"
>METHODS</a></h1>

<p>This class defines the following methods:</p>

<dl>
<dt><a name="new(_args_hash_)"
><b><code>new( args_hash )</b></code></a></dt>
Given an optional <code>Hash</code> of arguments, initializes the new object with the provided arguments. By default, you should rarely need to pass any arguments. If you do, you know why. The two allowed arguments are:
<dl>
<dt><a name="testplan"
><b><code>testplan</b></code></a></dt>
An object that <code>does</code> <code>Test::Builder::TestPlan</code> to manage the plan for this test run.
<dt><a name="output"
><b><code>output</b></code></a></dt>
An object that does <code>Test::Builder::Output</code> to manage the output for this test run.</dl>
<code>new()</code> will not always return the <i>same</i> object, but every object will share the same state.
<dt><a name="create(_args_hash_)"
><b><code>create( args_hash )</b></code></a></dt>
Creates and returns a new Test::Builder object with different backend objects. This probably doesn&#39;t work correctly yet, but you will probably never use it.
<dt><a name="finish()"
><b><code>finish()</b></code></a></dt>
Finishes this test run. You should call this when you have finished running all of the tests. I know this is awful, but this has to be here until object finalization works reliably.This is probably not idempotent now, so try not to call it too many times, where &#34;too many&#34; means &#34;more than one&#34;.
<dt><a name="plan(_number_or_no_plan_)"
><b><code>plan( number_or_no_plan )</b></code></a></dt>
Tells the object how many tests to run, either an integer greater than zero or the string <code>no_plan</code>. This will throw an exception if you have already declared a plan or if you pass an invalid argument.
<dt><a name="diag(_diagnostic_message_)"
><b><code>diag( diagnostic_message )</b></code></a></dt>
Records a diagnostic message for output.
<dt><a name="ok(_passed,_description_)"
><b><code>ok( passed, description )</b></code></a></dt>
Records a test as pass or fail depending on the truth of the integer <code>passed</code>, recording it with the optional test description in <code>description</code>.
<dt><a name="todo(_passed,_description,_reason_)"
><b><code>todo( passed, description, reason )</b></code></a></dt>
Records a test as pass or fail based on the truth of the integer <code>passed</code>, but marks it as TODO so it always appears as a success. This also records the optional <code>description</code> of the test and the <code>reason</code> you have marked it as TODO.
<dt><a name="skip(_number_reason_)"
><b><code>skip( number reason )</b></code></a></dt>
Records <code>number</code> of tests as skip tests, using the optional <code>reason</code> to mark why you&#39;ve skipped them.
<dt><a name="skip_all()"
><b><code>skip_all()</b></code></a></dt>
Skips all of the tests in a test file. You cannot call this if you have a plan. This calls <code>exit</code>; there&#39;s little point in continuing.
<dt><a name="BAILOUT(_reason_)"
><b><code>BAILOUT( reason )</b></code></a></dt>
Ends the test immediately, giving the string <code>reason</code> as explanation. This also calls <code>exit</code>.</dl>

<h1><a name="AUTHOR"
>AUTHOR</a></h1>

<p>Written and maintained by chromatic, <code>chromatic at wgz dot org</code>, based on the Perl 6 port he wrote, based on the original Perl 5 version he wrote with ideas from Michael G. Schwern. Please send patches, feedback, and suggestions to the Perl 6 internals mailing list.</p>

<h1><a name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 2005&#45;2008, Parrot Foundation.</p>
            </div> <!-- "mainbody" -->
            <div id="divider"></div>
            <div id="footer">
	        Copyright &copy; 2002-2009, Parrot Foundation.
            </div>
        </div> <!-- "wrapper" -->
    </body>
</html>
