<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Untitled</title>
        <link rel="stylesheet" type="text/css"
            href="../../../../resources/parrot.css"
            media="all">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </head>
    <body>
        <div id="wrapper">
            <div id="header">

                <img border=0 src="../../../../resources/parrot_logo.png" id="logo" alt="parrot">
            </div> <!-- "header" -->
            <div id="divider"></div>
            <div id="mainbody">
                <div id="breadcrumb">
                    <a href="../../../../html/index.html">Contents</a> &raquo; <a href="../../../../html/languages.html">Language Implementations</a> &raquo; <a href="../../../../html/pir.html">PIR</a> &raquo; Untitled
                </div>

<h1><a name="Title"
>Title</a></h1>

<p>Roadmap for languages/PIR</p>

<h1><a name="Intro"
>Intro</a></h1>

<p>This document describes a roadmap for languages/PIR,
the PIR implementation using the Parrot Compiler Tools: PGE and TGE.</p>

<p>This document does NOT describe IMCC,
the current implementation of Parrot Intermediate Representation (PIR) used by Parrot.</p>

<p>Neither does this document describe a TODO list; you can find that list in the,
you guess it,
TODO file.</p>

<h1><a name="What&#39;s_the_goal_of_languages/PIR?"
>What&#39;s the goal of languages/PIR?</a></h1>

<p>The goal is to have a PIR implementation in PIR itself :&#45;)</p>

<p>Just like most C compilers are implemented in C,
it&#39;d be nice to define PIR in PIR itself.
Moreover,
this is a good test&#45;case of the Parrot Compiler Tools Suite (PCTS),
consisting of PGE (for parsers) and TGE (for tree transformations).</p>

<p>Besides PIR,
Perl6 and a number of other languages is being implemented using the PCTS.</p>

<p>Another,
secondary,
goal is to *define* PIR; there is not yet a final description that precisely states the grammar of PIR.
(The Yacc input file is big and hard to read).
This also gives the opportunity to clean up the grammar,
and present a nice and clean grammar for Parrot 1.0.</p>

<h1><a name="Where_is_languages/PIR_now?"
>Where is languages/PIR now?</a></h1>

<p>Currently,
work is being done on the PIR parser.
The parser is being implemented using the Parrot Grammar Engine (PGE),
that implements the subsystem of Parrot that will process Perl6 regex&#45;es and rules.</p>

<h1><a name="Where_is_languages/PIR_going?"
>Where is languages/PIR going?</a></h1>

<p>As soon as the parser is done,
there should be a simple processing pass that reads the parse&#45;tree and emits PIR instructions.
That&#39;s right,
it will be a PIR&#45;&#62;PIR compiler.
This works,
because currently PIR is already implemented by IMCC,
using Lex and Yacc.</p>

<p>Then after that,
*and* if there is an API to emit bytecode,
(or at least a way to call into Parrot to do the stuff it&#39;s supposed to do),
the Real Parrot Bytecode can be emitted,
so that IMCC can be skipped altogether.</p>

<h1><a name="What_main_tasks_need_to_be_done?"
>What main tasks need to be done?</a></h1>

<p>This is only a top&#45;level view (a.k.a.
ROADMAP),
for a detailed list,
see TODO.</p>

<dl>
<dt><a name="Finish_and_TEST_the_parser"
>Finish and TEST the parser</a></dt>

<dt><a name="Implement_a_first_back&#45;end:_emit_PIR"
>Implement a first back&#45;end: emit PIR</a></dt>

<dt><a name="Implement_a_second_back&#45;end:_call_the_bytecode_API"
>Implement a second back&#45;end: call the bytecode API</a></dt>
</dl>

<h1><a name="Author"
>Author</a></h1>

<p>Klaas&#45;Jan Stol &#60;parrotcode@gmail.com&#62;</p>

<p>January 2007</p>
            </div> <!-- "mainbody" -->
            <div id="divider"></div>
            <div id="footer">
	        Copyright &copy; 2002-2009, Parrot Foundation.
            </div>
        </div> <!-- "wrapper" -->
    </body>
</html>
