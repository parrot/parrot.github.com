<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Options processing functionality for</title>
        <link rel="stylesheet" type="text/css"
            href="../../../../../../resources/parrot.css"
            media="all">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </head>
    <body>
        <div id="wrapper">
            <div id="header">

                <img border=0 src="../../../../../../resources/parrot_logo.png" id="logo" alt="parrot">
            </div> <!-- "header" -->
            <div id="divider"></div>
            <div id="mainbody">
                <div id="breadcrumb">
                    <a href="../../../../../../html/index.html">Contents</a> &raquo; <a href="../../../../../../html/perl.html">Perl Modules</a> &raquo; Options processing functionality for
                </div>

<h1><a name="NAME"
>NAME</a></h1>

<p>Parrot::Configure::Options::Conf::CLI &#45; Options processing functionality for Parrot&#39;s standard command&#45;line interface</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Parrot::Configure::Options::Conf::CLI qw(
        @valid_options
        $script
        %options_components
        $parrot_version
        $svnid
    );</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This package exports five variables on demand.</p>

<pre>    %options_components
    @valid_options
    $script
    $parrot_version
    $svnid</pre>

<p>Typically, only one of these &#45;&#45; <code>%options_components</code> &#45;&#45; is directly imported by Parrot::Configure::Options for use in the case where options are supplied to <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em> on the command&#45;line. But all five are, in principle, importable by other packages.</p>

<h2><a name="%options_components"
><code>%options_components</code></a></h2>

<pre>    %options_components = (
        &#39;valid_options&#39;  =&#62; \@valid_options,
        &#39;script&#39;         =&#62; $script,
        &#39;short_circuits&#39; =&#62; \%short_circuits,
        &#39;conditionals&#39;   =&#62; \&#38;conditional_assignments,
    );</pre>

<p>Hash with four elements keyed as follows:</p>

<ul>
<li><code>valid_options</code></li>

<p>Reference to an array holding a list of options are valid when configuring Parrot via the Configuration&#45;File interface. The options are documented when you call <code>perl Configure.pl &#45;&#45;help</code>. <code>&#45;&#45;ask</code> is excluded because if you know enough about what options you want to put them in a file, you should be past the point of needing interactive configuration.</p>

<li><code>script</code></li>

<p>Defaults to string &#39;Configure.pl&#39;, but may be overridden for testing purposes.</p>

<li><code>short_circuits</code></li>

<p>Reference to a hash with two elements:</p>

<ul>
<li><code>help</code></li>

<p>Reference to subroutine <code>print_help</code>, which prints <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>&#39;s help message. Since this subroutine is shared with another package, it is actually imported from Parrot::Configure::Options::Conf.</p>

<li><code>version</code></li>

<p>Reference to subroutine <code>print_version</code>, which prints <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>&#39;s version number. Since this subroutine is shared with another package, it is actually imported from Parrot::Configure::Options::Conf.</p>
</ul>

<li><code>conditionals</code></li>

<p>Reference to a subroutine private to this package which:</p>

<ul>
<li>Sets default values for the <code>debugging</code> and <code>maintainer</code> options under most situations.</li>

<li>Fetches the list of configuration steps from the configuration file.</li>
</ul>

<p>The subroutine takes a single argument: a reference to a hash holding elements concerned with configuration, such as the valid options.</p>

<p>The subroutine returns a two&#45;argument list:</p>

<ul>
<li>An augmented version of the hash reference passed in as an argument.</li>

<li>Reference to array holding list of configuration steps.</li>
</ul>

<p>That&#39;s probably difficult to understand at first. So here is an example of how <code>$options_components&#45;&#62;{conditionals}</code> is actually used inside <code>Parrot::Configure::Options::process_options()</code>.</p>

<pre>    my $data;
    # $data is hash ref which gets assigned some key&#45;value pairs
    my $steps_list_ref;
    ($data, $steps_list_ref) =
        &#38;{ $options_components&#45;&#62;{conditionals} }($data);</pre>
</ul>

<h1><a name="NOTES"
>NOTES</a></h1>

<p>The functionality in this package originally appeared in <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>. It was transferred here and adapted for configuration by file by James E Keenan.</p>

<h1><a name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>. Parrot::Configure::Options. Parrot::Configure::Options::Conf. Parrot::Configure::Options::Reconf. Parrot::Configure::Options::Conf::CLI.</p>
            </div> <!-- "mainbody" -->
            <div id="divider"></div>
            <div id="footer">
	        Copyright &copy; 2002-2009, Parrot Foundation.
            </div>
        </div> <!-- "wrapper" -->
    </body>
</html>
