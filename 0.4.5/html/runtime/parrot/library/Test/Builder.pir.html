<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Parrot extension for building test modules</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Parrot extension for building test modules</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../../html/index.html">Contents</a> | <a href="../../../../../html/libs.html">Libraries</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Test::Builder &#45; Parrot extension for building test modules</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<pre lang='und' xml:lang='und'>        # load this library
        load_bytecode &#39;library/Test/Builder.pir&#39;

        # create a new Test::Builder object
        .local pmc test
        .local int test_type

        find_type test_type, &#39;Test::Builder&#39;
        test = new test_type

        # plan to run ten tests
        test.&#39;plan&#39;( 10 )

        test.&#39;ok&#39;( 1, &#39;some test description&#39; )
        test.&#39;ok&#39;( 0, &#39;some test description&#39; )
        test.&#39;diag&#39;( &#39;the last test failed on purpose!&#39; )

        test.&#39;skip&#39;( 3, &#39;do not run these three tests&#39; )
        test.&#39;todo&#39;( 1, &#39;this is a todo test that passes&#39;, &#39;i am not sure&#39; )
        test.&#39;todo&#39;( 0, &#39;this is a todo test that fails&#39;, &#39; i am still not sure&#39; )

        test.&#39;skip&#39;( 4, &#39;cannot think of four more tests&#39; )

        # you must call this when you have finished!
        test.&#39;finish&#39;()</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Test::Builder is a pure&#45;Parrot library for building test modules. It manages test plans, formats and reports test results correctly, and has methods to manage passing, failing, skip, and TODO tests. It provides a simple, single backend for multiple test modules to use within your tests.</p>

<h1><a name="METHODS"
>METHODS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>This class defines the following methods:</p>

<dl>
<dt><a name="new(_args_hash_)"
><b><code lang='und' xml:lang='und'>new( args_hash )</b></code></a></dt><p class="pad"></p>

<dd>Given an optional <code lang='und' xml:lang='und'>Hash</code> of arguments, initializes the new object with the provided arguments. By default, you should rarely need to pass any arguments. If you do, you know why. The two allowed arguments are:</dd><p class="pad"></p>

<dl>
<dt><a name="testplan"
><b><code lang='und' xml:lang='und'>testplan</b></code></a></dt><p class="pad"></p>

<dd>An object that <code lang='und' xml:lang='und'>does</code> <code lang='und' xml:lang='und'>Test::Builder::TestPlan</code> to manage the plan for this test run.</dd><p class="pad"></p>

<dt><a name="output"
><b><code lang='und' xml:lang='und'>output</b></code></a></dt><p class="pad"></p>

<dd>An object that does <code lang='und' xml:lang='und'>Test::Builder::Output</code> to manage the output for this test run.</dd><p class="pad"></p>
</dl>

<dd><code lang='und' xml:lang='und'>new()</code> will not always return the <i>same</i> object, but every object will share the same state.</dd><p class="pad"></p>

<dt><a name="create(_args_hash_)"
><b><code lang='und' xml:lang='und'>create( args_hash )</b></code></a></dt><p class="pad"></p>

<dd>Creates and returns a new Test::Builder object with different backend objects. This probably doesn&#39;t work correctly yet, but you will probably never use it.</dd><p class="pad"></p>

<dt><a name="finish()"
><b><code lang='und' xml:lang='und'>finish()</b></code></a></dt><p class="pad"></p>

<dd>Finishes this test run. You should call this when you have finished running all of the tests. I know this is awful, but this has to be here until object finalization works reliably.</dd><p class="pad"></p>

<dd>This is probably not idempotent now, so try not to call it too many times, where &#34;too many&#34; means &#34;more than one&#34;.</dd><p class="pad"></p>

<dt><a name="plan(_number_or_no_plan_)"
><b><code lang='und' xml:lang='und'>plan( number_or_no_plan )</b></code></a></dt><p class="pad"></p>

<dd>Tells the object how many tests to run, either an integer greater than zero or the string <code lang='und' xml:lang='und'>no_plan</code>. This will throw an exception if you have already declared a plan or if you pass an invalid argument.</dd><p class="pad"></p>

<dt><a name="diag(_diagnostic_message_)"
><b><code lang='und' xml:lang='und'>diag( diagnostic_message )</b></code></a></dt><p class="pad"></p>

<dd>Records a diagnostic message for output.</dd><p class="pad"></p>

<dt><a name="ok(_passed,_description_)"
><b><code lang='und' xml:lang='und'>ok( passed, description )</b></code></a></dt><p class="pad"></p>

<dd>Records a test as pass or fail depending on the truth of the integer <code lang='und' xml:lang='und'>passed</code>, recording it with the optional test description in <code lang='und' xml:lang='und'>description</code>.</dd><p class="pad"></p>

<dt><a name="todo(_passed,_description,_reason_)"
><b><code lang='und' xml:lang='und'>todo( passed, description, reason )</b></code></a></dt><p class="pad"></p>

<dd>Records a test as pass or fail based on the truth of the integer <code lang='und' xml:lang='und'>passed</code>, but marks it as TODO so it always appears as a success. This also records the optional <code lang='und' xml:lang='und'>description</code> of the test and the <code lang='und' xml:lang='und'>reason</code> you have marked it as TODO.</dd><p class="pad"></p>

<dt><a name="skip(_number_reason_)"
><b><code lang='und' xml:lang='und'>skip( number reason )</b></code></a></dt><p class="pad"></p>

<dd>Records <code lang='und' xml:lang='und'>number</code> of tests as skip tests, using the optional <code lang='und' xml:lang='und'>reason</code> to mark why you&#39;ve skipped them.</dd><p class="pad"></p>

<dt><a name="skip_all()"
><b><code lang='und' xml:lang='und'>skip_all()</b></code></a></dt><p class="pad"></p>

<dd>Skips all of the tests in a test file. You cannot call this if you have a plan. This calls <code lang='und' xml:lang='und'>exit</code>; there&#39;s little point in continuing.</dd><p class="pad"></p>

<dt><a name="BAILOUT(_reason_)"
><b><code lang='und' xml:lang='und'>BAILOUT( reason )</b></code></a></dt><p class="pad"></p>

<dd>Ends the test immediately, giving the string <code lang='und' xml:lang='und'>reason</code> as explanation. This also calls <code lang='und' xml:lang='und'>exit</code>.</dd><p class="pad"></p>
</dl>

<h1><a name="AUTHOR"
>AUTHOR <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Written and maintained by chromatic, <code lang='und' xml:lang='und'>chromatic at wgz dot org</code>, based on the Perl 6 port he wrote, based on the original Perl 5 version he wrote with ideas from Michael G. Schwern. Please send patches, feedback, and suggestions to the Perl 6 internals mailing list.</p>

<h1><a name="COPYRIGHT"
>COPYRIGHT <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Copyright (C) 2005, The Perl Foundation.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
