<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>Options processing functionality for</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Options processing functionality for</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../../../html/index.html">Contents</a> | <a href="../../../../../../html/perl.html">Perl Modules</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h1>

<p>Parrot::Configure::Options::Conf::File &#45; Options processing functionality for Parrot&#39;s configuration&#45;file interface</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h1>

<pre>    use Parrot::Configure::Options::Conf::File qw(
        @valid_options
        $script
        %options_components
        $parrot_version
        $svnid
    );</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h1>

<p>This package exports five variables on demand.</p>

<pre>    %options_components
    @valid_options
    $script
    $parrot_version
    $svnid</pre>

<p>Typically, only one of these &#45;&#45; <code>%options_components</code> &#45;&#45; is directly imported by Parrot::Configure::Options for use in the case where options are supplied to <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em> on the command&#45;line. But all five are, in principle, importable by other packages.</p>

<h2><a name="%options_components"
><code>%options_components</code> <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h2>

<pre>    %options_components = (
        &#39;valid_options&#39;  =&#62; \@valid_options,
        &#39;script&#39;         =&#62; $script,
        &#39;short_circuits&#39; =&#62; \%short_circuits,
        &#39;conditionals&#39;   =&#62; \&#38;conditional_assignments,
    );</pre>

<p>Hash with four elements keyed as follows:</p>

<ul>
<li><code>valid_options</code></li>

<p>Reference to an array holding a list of options are valid when configuring Parrot via the traditional Command&#45;Line interface. The options are documented when you call <code>perl Configure.pl &#45;&#45;help</code> and include <code>&#45;&#45;ask</code> to request interactive configuration.</p>

<li><code>script</code></li>

<p>Defaults to string &#39;Configure.pl&#39;, but may be overridden for testing purposes.</p>

<li><code>short_circuits</code></li>

<p>Reference to a hash with two elements:</p>

<ul>
<li><code>help</code></li>

<p>Reference to subroutine <code>print_help</code>, which prints <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>&#39;s help message. Since this subroutine is shared with another package, it is actually imported from Parrot::Configure::Options::Conf.</p>

<li><code>version</code></li>

<p>Reference to subroutine <code>print_version</code>, which prints <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>&#39;s version number. Since this subroutine is shared with another package, it is actually imported from Parrot::Configure::Options::Conf.</p>
</ul>

<li><code>conditionals</code></li>

<p>Reference to a subroutine private to this package which:</p>

<ul>
<li>Sets default values for the <code>debugging</code> and <code>maintainer</code> options under most situations.</li>

<li>Fetches the list of configuration steps from Parrot::Configure::Step::List. When you configure with the Command&#45;Line Interface, you use the canonical list of configuration steps provided by that package.</li>
</ul>

<p>The subroutine takes a single argument: a reference to a hash holding elements concerned with configuration, such as the valid options.</p>

<p>The subroutine returns a two&#45;argument list:</p>

<ul>
<li>An augmented version of the hash reference passed in as an argument.</li>

<li>Reference to array holding list of configuration steps.</li>
</ul>

<p>That&#39;s probably difficult to understand at first. So here is an example of how <code>$options_components&#45;&#62;{conditionals}</code> is actually used inside <code>Parrot::Configure::Options::process_options()</code>.</p>

<pre>    my $data;
    # $data is hash ref which gets assigned some key&#45;value pairs
    my $steps_list_ref;
    ($data, $steps_list_ref) =
        &#38;{ $options_components&#45;&#62;{conditionals} }($data);</pre>
</ul>

<h1><a name="NOTES"
>NOTES <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h1>

<p>The functionality in this package originally appeared in <em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>. It was transferred here and refactored by James E Keenan.</p>

<h1><a name="SEE_ALSO"
>SEE ALSO <a href='#_top'><img alt='^' border=0 src='../../../../../../resources/up.gif'></a></a></h1>

<p><em><a href="../../../../../Configure.pl.html">Configure.pl</a></em>. Parrot::Configure::Options. Parrot::Configure::Options::Conf. Parrot::Configure::Options::Reconf. Parrot::Configure::Options::Conf::CLI.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
