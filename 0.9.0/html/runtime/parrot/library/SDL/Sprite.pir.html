<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>Parrot class representing sprites in Parrot SDL</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Parrot class representing sprites in Parrot SDL</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../../html/index.html">Contents</a> | <a href="../../../../../html/libs.html">Libraries</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>SDL::Sprite &#45; Parrot class representing sprites in Parrot SDL</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<pre>    # load this library
    load_bytecode &#39;library/SDL/Sprite.pir&#39;

    # ... load a new SDL::Image into image

    # create a new SDL::Sprite object
    .local pmc sprite
    sprite = new &#39;SDL::Sprite&#39;

    # set the sprite&#39;s arguments
    sprite.&#39;init&#39;( &#39;surface&#39;  =&#62; image, &#39;source_x&#39; =&#62;     0, &#39;source_y&#39; =&#62;     0, &#39;dest_x&#39;   =&#62;   270, &#39;dest_y&#39;   =&#62;   212, &#39;bgcolor&#39;  =&#62; black )


    # if the image has multiple tiles that represent animation frames, set the
    # width and height of each tile
    # &#39;width&#39;    =&#62;   100, &#39;height&#39;   =&#62;    56

    # ... draw the sprite to surfaces as you will</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>A SDL::Sprite object represents an image and its position. By changing the coordinates of the sprite, you&#39;ll change its position when it draws itself to a surface.</p>

<p>This is a class in progress; it has to represent several different drawing styles.</p>

<h1><a name="METHODS"
>METHODS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>A SDL::Sprite object has the following methods:</p>

<dl>
<dt><a name="init(_&#39;arg&#39;_=&#62;_pairs_)"
>init( &#39;arg&#39; =&#62; pairs )</a></dt>
Given argument key&#45;value pairs, sets the attributes of this object. The useful keys are as follows:
<dl>
<dt><a name="surface"
>surface</a></dt>
The SDL::Image from which to draw the sprite frames.
<dt><a name="source_x"
>source_x</a></dt>
The x coordinate within the <code>surface</code> from which to start drawing.
<dt><a name="source_y"
>source_y</a></dt>
The y coordinate within the <code>surface</code> from which to start drawing.
<dt><a name="dest_x"
>dest_x</a></dt>
The x coordinate within the destination surface to which to draw.
<dt><a name="dest_y"
>dest_y</a></dt>
The y coordinate within the destination surface to which to draw.
<dt><a name="bgcolor"
>bgcolor</a></dt>
A SDL::Color object representing the background color of the main surface. This will come in handy when drawing over the previous position of this sprite, unless you redraw the entire surface on every frame.
<dt><a name="width"
>width</a></dt>
The width of the image, in pixels, to draw. If you have multiple frames of an animation within the image provided, set the width here to the width of a single frame.If you don&#39;t set this value, this will use the current width of the image.
<dt><a name="height"
>height</a></dt>
The height of the image, in pixels, to draw. If you have multiple frames of an animation within the image provided, set the height here to the height of a single frame.If you don&#39;t set this value, this will use the current height of the image.</dl>
<b>Note:</b> I&#39;m not completely thrilled with these arguments, so they may change slightly.
<dt><a name="draw_undraw(_surface_)"
>draw_undraw( surface )</a></dt>
Draws the image this object represents to the given SDL::Surface. This will return two SDL::Rect objects, one representing the previous position of this sprite and one representing the current position.Use this when dealing with a single&#45;buffered main window. You&#39;ll need to call <code>update_rect()</code> on the <code>surface</code> to make things actually show up, if it&#39;s the main surface.Note that this will fill in the previous position with the background color set in the constructor.
<dt><a name="draw(_surface_)"
>draw( surface )</a></dt>
Draws the image represented by this object to the given surface. This will also fill the previous position of the image with the background color. (Arguably, this is not always right, but I know about it and will figure something out, unless you have a better idea and let me know first.)Use this when dealing with a double&#45;buffered main window. In that case, you will have to call <code>flip()</code> on the <code>surface</code> yourself to make your changes appear.
<dt><a name="surface()"
>surface()</a></dt>
Returns the underlying surface of the image represented by this class. You should never need to call this directly, unless you&#39;re working with the raw SDL functions.
<dt><a name="source_rect()"
>source_rect()</a></dt>
Returns the SDL::Rect object representing the source from which to draw within the underlying image.You should never need to call this directly.
<dt><a name="prev_rect()"
>prev_rect()</a></dt>
Returns the SDL::Rect representing the previous position of this sprite within a destination surface.You should never need to call this directly.
<dt><a name="rect()"
>rect()</a></dt>
Returns the SDL::Rect representing this sprite&#39;s current position within the destination surface.You should never need to call this directly.
<dt><a name="bgcolor()"
>bgcolor()</a></dt>
Returns the SDL::Color object representing the background color to draw to the destination when undrawing the previous position of this sprite.You should never need to call this directly.
<dt><a name="drawn_rect()"
>drawn_rect()</a></dt>
Returns the SDL::Rect representing the current position of the sprite within the destination surface as of the current drawing operation.You should <i>never</i> need to call this directly. I mean it. This may go away suddenly in a brilliant flash of insight.
<dt><a name="undrawn_rect()"
>undrawn_rect()</a></dt>
Returns the SDL::Rect representing the previous position of the sprite within the destination surface as of the current drawing operation.You should <i>never</i> need to call this directly. I mean it. This may go away suddenly in a brilliant flash of insight.
<dt><a name="x(_[_new_x_coordinate_]_)"
>x( [ new_x_coordinate ] )</a></dt>
Gets and sets the x coordinate of this sprite within the destination surface, in pixels. This is always an integer.
<dt><a name="y(_[_new_y_coordinate_]_)"
>y( [ new_y_coordinate ] )</a></dt>
Gets and sets the y coordinate of this sprite within the destination surface, in pixels. This is always an integer.
<dt><a name="x_velocity(_[_new_x_velocity_]_)"
>x_velocity( [ new_x_velocity ] )</a></dt>
Gets and sets the x velocity of this sprite. This is always an integer.Maybe this method shouldn&#39;t be here; it may move.
<dt><a name="y_velocity(_[_new_y_velocity_]_)"
>y_velocity( [ new_y_velocity ] )</a></dt>
Gets and sets the y velocity of this sprite. This is always an integer.Maybe this method shouldn&#39;t be here; it may move.</dl>

<h1><a name="AUTHOR"
>AUTHOR <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Written and maintained by chromatic, &#60;chromatic at wgz dot org&#62;, with suggestions from Jens Rieks. Please send patches, feedback, and suggestions to the Perl 6 Internals mailing list.</p>

<h1><a name="COPYRIGHT"
>COPYRIGHT <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Copyright (C) 2004&#45;2008, The Perl Foundation.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
