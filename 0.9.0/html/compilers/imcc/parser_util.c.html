<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>compilers/imcc/parser_util.c</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">compilers/imcc/parser_util.c</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/compilers.html">Compilers</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>compilers/imcc/parser_util.c</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>ParserUtil &#45; Parser support functions.</p>

<h2><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="Instruction_*_iNEW"
><b><code>Instruction *iNEW</b></code></a></dt>

<pre> * P = new type, [init]
 * PASM like:
 *   new P, &#39;SomeThing&#39;
 * is done in the lexer, this is a mess
 * best would be to have a flag in core.ops, where a PMC type is expected</pre>

<dt><a name="void_op_fullname"
><b><code>void op_fullname</b></code></a></dt>
Lookup the full opcode given the short name
<pre>   set I0, 5  &#45;&#62; set_i_ic
   set I0, I1 &#45;&#62; set_i_i</pre>
Obviously the registers must be examined before returning the correct opcode.NOTE: All this nasty IMC_TRACE is for tracking down equally nasty bugs, so if you don&#39;t like the looks of it, stay out, but please don&#39;t remove it. :) &#45;Mel
<dt><a name="int_check_op"
><b><code>int check_op</b></code></a></dt>
Return opcode value for op name
<dt><a name="int_is_op"
><b><code>int is_op</b></code></a></dt>
Is instruction a parrot opcode?
<dt><a name="static_Instruction_*_var_arg_ins"
><b><code>static Instruction *var_arg_ins</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="Instruction_*_INS"
><b><code>Instruction *INS</b></code></a></dt>
Makes an instruction.name ... op name fmt ... optional format regs ... SymReg ** n ... number of params keyvec ... see KEY_BIT() emit ... if true, append to instructionssee imc.c for usage
<dt><a name="int_do_yylex_init"
><b><code>int do_yylex_init</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="PMC_*_imcc_compile"
><b><code>PMC *imcc_compile</b></code></a></dt>
Compile a pasm or imcc stringFIXME as we have separate constants, the old constants in ghash must be deleted.
<dt><a name="PMC_*_imcc_compile_pasm"
><b><code>PMC *imcc_compile_pasm</b></code></a></dt>
TODO: Needs to be documented!!!
<pre> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="PMC_*_imcc_compile_pir"
><b><code>PMC *imcc_compile_pir</b></code></a></dt>
TODO: Needs to be documented!!!
<pre> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="PMC_*_IMCC_compile_pir_s"
><b><code>PMC *IMCC_compile_pir_s</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="PMC_*_IMCC_compile_pasm_s"
><b><code>PMC *IMCC_compile_pasm_s</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="PMC_*_imcc_compile_pasm_ex"
><b><code>PMC *imcc_compile_pasm_ex</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="PMC_*_imcc_compile_pir_ex"
><b><code>PMC *imcc_compile_pir_ex</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="static_void_*_imcc_compile_file"
><b><code>static void *imcc_compile_file</b></code></a></dt>
Compile a file by filename (can be either PASM or IMCC code)
<dt><a name="void_*_IMCC_compile_file"
><b><code>void *IMCC_compile_file</b></code></a></dt>
TODO: Needs to be documented!!!
<pre> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="void_*_IMCC_compile_file_s"
><b><code>void *IMCC_compile_file_s</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="void_register_compilers"
><b><code>void register_compilers</b></code></a></dt>
Register additional compilers with the interpreter
<dt><a name="static_int_change_op"
><b><code>static int change_op</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="int_try_find_op"
><b><code>int try_find_op</b></code></a></dt>
Try to find valid op doing the same operation e.g.
<pre>   add_n_i_n  =&#62; add_n_n_i
   div_n_ic_n =&#62; div_n_nc_n
   div_n_i_n  =&#62; set_n_i ; div_n_n_n
   ge_n_ic_ic =&#62; ge_n_nc_ic
   acos_n_i   =&#62; acos_n_n</pre>

<dt><a name="static_const_char_*_try_rev_cmp"
><b><code>static const char *try_rev_cmp</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="int_imcc_vfprintf"
><b><code>int imcc_vfprintf</b></code></a></dt>
Formats a given series of arguments per a given format string and prints it to the given Parrot IO PMC.
<dt><a name="void_imcc_init"
><b><code>void imcc_init</b></code></a></dt>
TODO: Needs to be documented!!!
<dt><a name="static_void_imcc_destroy_macro_values"
><b><code>static void imcc_destroy_macro_values</b></code></a></dt>
A callback for parrot_chash_destroy_values() to free all macro&#45;allocated memory.
<dt><a name="void_imcc_destroy"
><b><code>void imcc_destroy</b></code></a></dt>
TODO: Needs to be documented!!!</dl>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
