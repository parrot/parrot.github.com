<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>Perl 6 Control functions</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Perl 6 Control functions</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../../html/index.html">Contents</a> | <a href="../../../../../html/languages.html">Language Implementations</a> | <a href="../../../../../html/perl6.html">Perl6</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>src/builtins/control.pir &#45; Perl 6 Control functions</p>

<h1><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="return"
>return</a></dt>
Create a return exception.
(Only handles 1 return value for the moment &#45;&#45; we&#39;ll do more complex handling a bit later.)
<dt><a name="fail"
>fail</a></dt>

<dt><a name="take"
>take</a></dt>

<dt><a name="gather"
>gather</a></dt>

<dt><a name="next"
>next</a></dt>

<dt><a name="term:..."
>term:...</a></dt>

<dt><a name="die"
>die</a></dt>

<dt><a name="exit"
>exit</a></dt>

<pre> multi Control::Basic::exit ( Int $status = 0)</pre>
Stops all program execution, and returns <code>$status</code> to the calling environment.
<dt><a name="nothing"
>nothing</a></dt>

<pre> multi Control::Basic::nothing ()</pre>
No operation. Literally does nothing.
<dt><a name="sleep"
>sleep</a></dt>

<pre> our Num multi Control::Basic::sleep ( Num $for = Inf )</pre>
Attempt to sleep for up to <code>$for</code> seconds. Implementations are obligated to support subsecond resolutions if that is at all possible.[Q: what about multithreading? do we just sleep this thread? need to coordinate with entire async model. &#45;law]
<dt><a name="time"
>time</a></dt>

<pre> our Time sub Control::Basic::time()</pre>
XXX Should be returning a (currently unspec&#39;d, it seems) Time object that numifies to a floating point value giving the number of seconds and fractional seconds since 2000. At the moment, just handing back what the Parrot time opcode does, since that doesn&#39;t give something with a consistent epoch. Mails sent about both issues, will fix when answers come back.
<dt><a name="eval"
>eval</a></dt>

<pre> multi Control::Basic::eval ( Str $code, Grammar :$lang = CALLER::&#60;$?PARSER&#62;)</pre>
Execute <code>$code</code> as if it were code written in <code>$lang</code>. The default is the language in effect at the exact location of the eval call.Returns whatever <code>$code</code> returns, or undef on error. Sets caller&#39;s <code>$!</code> on error.
<dt><a name="warn"
>warn</a></dt>
</dl>

<h1><a name="TODO:_Functions"
>TODO: Functions <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="evalfile"
>evalfile</a></dt>

<pre> multi Control::Basic::evalfile (Str $filename : Grammar :$lang = Perl6)</pre>
Behaves like, and replaces Perl 5 <code>do EXPR</code>, with optional <code>$lang</code> support.
<dt><a name="fail"
>fail</a></dt>
<b>TODO</b>: Research the exception handling system.
<dt><a name="warn"
>warn</a></dt>
<b>TODO</b>: Throw a resumable exception when Rakudo supports top&#45;level exception handlers. Note that the default exception handler should print the message of this exception to standard error.</dl>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
