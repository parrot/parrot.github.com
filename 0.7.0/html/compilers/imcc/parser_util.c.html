<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>compilers/imcc/parser_util.c</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">compilers/imcc/parser_util.c</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/compilers.html">Compilers</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>compilers/imcc/parser_util.c</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>ParserUtil &#45; Parser support functions.</p>

<h2><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="Instruction_*_iNEW"
><b><code lang='und' xml:lang='und'>Instruction *iNEW</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'> * P = new type, [init]
 * PASM like:
 *   new P, &#39;SomeThing&#39;
 * is done in the lexer, this is a mess
 * best would be to have a flag in core.ops, where a PMC type is expected</pre>

<dt><a name="void_op_fullname"
><b><code lang='und' xml:lang='und'>void op_fullname</b></code></a></dt><p class="pad"></p>

<dd>Lookup the full opcode given the short name</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>   set I0, 5  &#45;&#62; set_i_ic
   set I0, I1 &#45;&#62; set_i_i</pre>

<dd>Obviously the registers must be examined before returning the correct opcode.</dd><p class="pad"></p>

<dd>NOTE: All this nasty IMC_TRACE is for tracking down equally nasty bugs, so if you don&#39;t like the looks of it, stay out, but please don&#39;t remove it. :) &#45;Mel</dd><p class="pad"></p>

<dt><a name="int_check_op"
><b><code lang='und' xml:lang='und'>int check_op</b></code></a></dt><p class="pad"></p>

<dd>Return opcode value for op name</dd><p class="pad"></p>

<dt><a name="int_is_op"
><b><code lang='und' xml:lang='und'>int is_op</b></code></a></dt><p class="pad"></p>

<dd>Is instruction a parrot opcode?</dd><p class="pad"></p>

<dt><a name="static_const_char_*_to_infix"
><b><code lang='und' xml:lang='und'>static const char *to_infix</b></code></a></dt><p class="pad"></p>

<dd>sub x, y, z =&#62; infix .MMD_SUBTRACT, x, y, z</dd><p class="pad"></p>

<dt><a name="static_int_is_infix"
><b><code lang='und' xml:lang='und'>static int is_infix</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="static_Instruction_*_var_arg_ins"
><b><code lang='und' xml:lang='und'>static Instruction *var_arg_ins</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="Instruction_*_INS"
><b><code lang='und' xml:lang='und'>Instruction *INS</b></code></a></dt><p class="pad"></p>

<dd>Makes an instruction.</dd><p class="pad"></p>

<dd>name ... op name fmt ... optional format regs ... SymReg ** n ... number of params keyvec ... see KEY_BIT() emit ... if true, append to instructions</dd><p class="pad"></p>

<dd>see imc.c for usage</dd><p class="pad"></p>

<dt><a name="int_do_yylex_init"
><b><code lang='und' xml:lang='und'>int do_yylex_init</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="PMC_*_imcc_compile"
><b><code lang='und' xml:lang='und'>PMC *imcc_compile</b></code></a></dt><p class="pad"></p>

<dd>Compile a pasm or imcc string</dd><p class="pad"></p>

<dd>FIXME as we have separate constants, the old constants in ghash must be deleted.</dd><p class="pad"></p>

<dt><a name="PMC_*_imcc_compile_pasm"
><b><code lang='und' xml:lang='und'>PMC *imcc_compile_pasm</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="PMC_*_imcc_compile_pir"
><b><code lang='und' xml:lang='und'>PMC *imcc_compile_pir</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="PMC_*_IMCC_compile_pir_s"
><b><code lang='und' xml:lang='und'>PMC *IMCC_compile_pir_s</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="PMC_*_IMCC_compile_pasm_s"
><b><code lang='und' xml:lang='und'>PMC *IMCC_compile_pasm_s</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="PMC_*_imcc_compile_pasm_ex"
><b><code lang='und' xml:lang='und'>PMC *imcc_compile_pasm_ex</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="PMC_*_imcc_compile_pir_ex"
><b><code lang='und' xml:lang='und'>PMC *imcc_compile_pir_ex</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="static_void_*_imcc_compile_file"
><b><code lang='und' xml:lang='und'>static void *imcc_compile_file</b></code></a></dt><p class="pad"></p>

<dd>Compile a file by filename (can be either PASM or IMCC code)</dd><p class="pad"></p>

<dt><a name="void_*_IMCC_compile_file"
><b><code lang='und' xml:lang='und'>void *IMCC_compile_file</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> * Note: This function is provided for backward compatibility. This
 * function can go away in future.</pre>

<dt><a name="void_*_IMCC_compile_file_s"
><b><code lang='und' xml:lang='und'>void *IMCC_compile_file_s</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="void_register_compilers"
><b><code lang='und' xml:lang='und'>void register_compilers</b></code></a></dt><p class="pad"></p>

<dd>Register additional compilers with the interpreter</dd><p class="pad"></p>

<dt><a name="static_int_change_op"
><b><code lang='und' xml:lang='und'>static int change_op</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="int_try_find_op"
><b><code lang='und' xml:lang='und'>int try_find_op</b></code></a></dt><p class="pad"></p>

<dd>Try to find valid op doing the same operation e.g.</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>   add_n_i_n  =&#62; add_n_n_i
   div_n_ic_n =&#62; div_n_nc_n
   div_n_i_n  =&#62; set_n_i ; div_n_n_n
   ge_n_ic_ic =&#62; ge_n_nc_ic
   acos_n_i   =&#62; acos_n_n</pre>

<dt><a name="static_const_char_*_try_rev_cmp"
><b><code lang='und' xml:lang='und'>static const char *try_rev_cmp</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="Instruction_*_multi_keyed"
><b><code lang='und' xml:lang='und'>Instruction *multi_keyed</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="int_imcc_fprintf"
><b><code lang='und' xml:lang='und'>int imcc_fprintf</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="int_imcc_vfprintf"
><b><code lang='und' xml:lang='und'>int imcc_vfprintf</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="void_imcc_init"
><b><code lang='und' xml:lang='und'>void imcc_init</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>

<dt><a name="void_imcc_destroy"
><b><code lang='und' xml:lang='und'>void imcc_destroy</b></code></a></dt><p class="pad"></p>

<dd>TODO: Needs to be documented!!!</dd><p class="pad"></p>
</dl>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
