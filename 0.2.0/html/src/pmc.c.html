<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>The base vtable calling functions</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">The base vtable calling functions</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../html/index.html">Contents</a> | <a href="../../html/c.html">C</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h1>

<p>src/pmc.c &#45; The base vtable calling functions</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h1>

<h2><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="PMC_*_pmc_new(Interp_*interpreter,_INTVAL_base_type)"
><b><code lang='und' xml:lang='und'>PMC *pmc_new(Interp *interpreter, INTVAL base_type)</b></code></a></dt><p class="pad"></p>

<dd>Creates a new PMC of type <code lang='und' xml:lang='und'>base_type</code> (which is an index into the list of PMC types declared in <code lang='und' xml:lang='und'>Parrot_base_vtables</code> in <em lang='und' xml:lang='und'>include/parrot/pmc.h</em>).
Once the PMC has been successfully created and its vtable pointer initialized,
we call its <code lang='und' xml:lang='und'>init</code> method to perform any other necessary initialization.</dd><p class="pad"></p>

<dt><a name="PMC_*_pmc_reuse(Interp_*interpreter,_PMC_*pmc,_INTVAL_new_type,_UINTVAL_flags)"
><b><code lang='und' xml:lang='und'>PMC *pmc_reuse(Interp *interpreter, PMC *pmc, INTVAL new_type, UINTVAL flags)</b></code></a></dt><p class="pad"></p>

<dd>Reuse an existing PMC,
turning it into an empty PMC of the new type.
Any required internal structure will be put in place (such as the extension area) and the PMC will be ready to go.
This will throw an exception if the PMC is constant or of a singleton type (such as the environment PMC) or is being turned into a PMC of a singleton type.</dd><p class="pad"></p>

<dt><a name="static_PMC*_get_new_pmc_header(Interp_*interpreter,_INTVAL_base_type,_UINTVAL_flags)"
><b><code lang='und' xml:lang='und'>static PMC *get_new_pmc_header(Interp *interpreter, INTVAL base_type, UINTVAL flags)</b></code></a></dt><p class="pad"></p>

<dd>Gets a new PMC header.</dd><p class="pad"></p>

<dt><a name="PMC_*_pmc_new_noinit(Interp_*interpreter,_INTVAL_base_type)"
><b><code lang='und' xml:lang='und'>PMC *pmc_new_noinit(Interp *interpreter, INTVAL base_type)</b></code></a></dt><p class="pad"></p>

<dd>Creates a new PMC of type <code lang='und' xml:lang='und'>base_type</code> (which is an index into the list of PMC types declared in <code lang='und' xml:lang='und'>Parrot_base_vtables</code> in <em lang='und' xml:lang='und'>include/parrot/pmc.h</em>).
Unlike <code lang='und' xml:lang='und'>pmc_new()</code>,
<code lang='und' xml:lang='und'>pmc_new_noinit()</code> does not call its <code lang='und' xml:lang='und'>init</code> method.
This allows separate allocation and initialization for continuations.</dd><p class="pad"></p>

<dt><a name="PMC_*_constant_pmc_new_noinit(Interp_*interpreter,_INTVAL_base_type)"
><b><code lang='und' xml:lang='und'>PMC *constant_pmc_new_noinit(Interp *interpreter, INTVAL base_type)</b></code></a></dt><p class="pad"></p>

<dd>Creates a new constant PMC of type <code lang='und' xml:lang='und'>base_type</code>.</dd><p class="pad"></p>

<dt><a name="PMC_*_constant_pmc_new(Interp_*interpreter,_INTVAL_base_type)"
><b><code lang='und' xml:lang='und'>PMC *constant_pmc_new(Interp *interpreter, INTVAL base_type)</b></code></a></dt><p class="pad"></p>

<dd>Creates a new constant PMC of type <code lang='und' xml:lang='und'>base_type</code>,
the call <code lang='und' xml:lang='und'>init</code>.</dd><p class="pad"></p>

<dt><a name="PMC_*_pmc_new_init(Interp_*interpreter,_INTVAL_base_type,_PMC_*init)"
><b><code lang='und' xml:lang='und'>PMC *pmc_new_init(Interp *interpreter, INTVAL base_type, PMC *init)</b></code></a></dt><p class="pad"></p>

<dd>As <code lang='und' xml:lang='und'>pmc_new()</code>,
but passes <code lang='und' xml:lang='und'>init</code> to the PMC&#39;s <code lang='und' xml:lang='und'>init_pmc()</code> method.</dd><p class="pad"></p>

<dt><a name="PMC_*_constant_pmc_new_init(Interp_*interpreter,_INTVAL_base_type,_PMC_*init)"
><b><code lang='und' xml:lang='und'>PMC *constant_pmc_new_init(Interp *interpreter, INTVAL base_type, PMC *init)</b></code></a></dt><p class="pad"></p>

<dd>As <code lang='und' xml:lang='und'>constant_pmc_new</code>,
but passes <code lang='und' xml:lang='und'>init</code> to the PMC&#39;s <code lang='und' xml:lang='und'>init_pmc</code> method.</dd><p class="pad"></p>

<dt><a name="INTVAL_pmc_register(Parrot_Interp_interp,_STRING_*name)"
><b><code lang='und' xml:lang='und'>INTVAL pmc_register(Parrot_Interp interp, STRING *name)</b></code></a></dt><p class="pad"></p>

<dd>This segment handles PMC registration and such.</dd><p class="pad"></p>

<dt><a name="INTVAL_pmc_type(Parrot_Interp_interp,_STRING_*name)"
><b><code lang='und' xml:lang='und'>INTVAL pmc_type(Parrot_Interp interp, STRING *name)</b></code></a></dt><p class="pad"></p>

<dd>Returns the PMC type for <code lang='und' xml:lang='und'>name</code>.</dd><p class="pad"></p>

<dt><a name="void_Parrot_create_mro(Interp_*interpreter,_INTVAL_type)"
><b><code lang='und' xml:lang='und'>void Parrot_create_mro(Interp *interpreter, INTVAL type)</b></code></a></dt><p class="pad"></p>

<dd>Create the MRO (method resolution order) array for this type.</dd><p class="pad"></p>

<dt><a name="static_size_t_key_hash_int(Interp_*interp,_Hash_*hash,_void_*value)"
><b><code lang='und' xml:lang='und'>static size_t key_hash_int(Interp *interp, Hash *hash, void *value)</b></code></a></dt><p class="pad"></p>

<dd>Simply returns <code lang='und' xml:lang='und'>value</code>.
<code lang='und' xml:lang='und'>hash</code> is ignored.</dd><p class="pad"></p>

<dd>Used in <code lang='und' xml:lang='und'>dod_register_pmc()</code>.</dd><p class="pad"></p>

<dt><a name="static_int_int_compare(Parrot_Interp_interp,_void_*a,_void_*b)"
><b><code lang='und' xml:lang='und'>static int int_compare(Parrot_Interp interp, void *a, void *b)</b></code></a></dt><p class="pad"></p>

<dd>Returns whether <code lang='und' xml:lang='und'>a != b</code>.</dd><p class="pad"></p>

<dd>Used in <code lang='und' xml:lang='und'>dod_register_pmc()</code>.</dd><p class="pad"></p>
</dl>

<h2><a name="DOD_registry_interface"
>DOD registry interface <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="void_dod_register_pmc(Parrot_Interp_interpreter,_PMC*_pmc)"
><b><code lang='und' xml:lang='und'>void dod_register_pmc(Parrot_Interp interpreter, PMC *pmc)</b></code></a></dt><p class="pad"></p>

<dd>Registers the PMC with the interpreter&#39;s DOD registery.</dd><p class="pad"></p>

<dt><a name="void_dod_unregister_pmc(Parrot_Interp_interpreter,_PMC*_pmc)"
><b><code lang='und' xml:lang='und'>void dod_unregister_pmc(Parrot_Interp interpreter, PMC *pmc)</b></code></a></dt><p class="pad"></p>

<dd>Unregisters the PMC from the interpreter&#39;s DOD registery.</dd><p class="pad"></p>
</dl>

<h1><a name="SEE_ALSO"
>SEE ALSO <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h1>

<p><em lang='und' xml:lang='und'>include/parrot/vtable.h</em>.</p>

<p><code lang='und' xml:lang='und'>5.1.0.14.2.20011008152120.02158148@pop.sidhe.org</code> (<a href="http://www.nntp.perl.org/group/perl.perl6.internals/5516">http://www.nntp.perl.org/group/perl.perl6.internals/5516</a>).</p>

<h1><a name="HISTORY"
>HISTORY <a href='#_top'><img alt='^' border=0 src='../../resources/up.gif'></a></a></h1>

<p>Initial version by Simon on 2001.10.20.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
