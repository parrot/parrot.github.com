<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>Lua File System Library v1.2</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Lua File System Library v1.2</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../html/index.html">Contents</a> | <a href="../../../../html/languages.html">Language Implementations</a> | <a href="../../../../html/lua.html">Lua</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>lib/lfs.pir &#45; Lua File System Library v1.2</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>LuaFileSystem is a Lua library developed to complement the set of functions related to file systems offered by the standard Lua distribution.</p>

<p>LuaFileSystem offers a portable way to access the underlying directory structure and file attributes.</p>

<p>See original on <a href='http://luaforge.net/projects/luafilesystem/'><a href="http://luaforge.net/projects/luafilesystem/">http://luaforge.net/projects/luafilesystem/</a></a></p>

<h2><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="lfs.attributes_(filepath_[,_aname])"
><b><code lang='und' xml:lang='und'>lfs.attributes (filepath [, aname])</b></code></a></dt><p class="pad"></p>

<dd>Returns a table with the file attributes corresponding to <code lang='und' xml:lang='und'>filepath</code> (or <code lang='und' xml:lang='und'>nil</code> followed by an error message in case of error).
If the second optional argument is given,
then only the value of the named attribute is returned (this use is equivalent to <code lang='und' xml:lang='und'>lfs.attributes(filepath).aname</code>,
but the table is not created and only one attribute is retrieved from the O.S.).
The attributes are described as follows; attribute <code lang='und' xml:lang='und'>mode</code> is a string,
all the others are numbers,
and the time related attributes use the same time reference of <code lang='und' xml:lang='und'>os.time</code>:</dd><p class="pad"></p>

<dl>
<dt><a name="&#34;dev&#34;"
><b>&#34;dev&#34;</b></a></dt><p class="pad"></p>

<dd>on Unix systems,
this represents the device that the inode resides on.
On Windows systems,
represents the drive number of the disk containing the file</dd><p class="pad"></p>

<dt><a name="&#34;ino&#34;"
><b>&#34;ino&#34;</b></a></dt><p class="pad"></p>

<dd>on Unix systems,
this represents the inode number.
On Windows systems this has no meaning</dd><p class="pad"></p>

<dt><a name="&#34;mode&#34;"
><b>&#34;mode&#34;</b></a></dt><p class="pad"></p>

<dd>string representing the associated protection mode (the values could be <code lang='und' xml:lang='und'>file</code>,
<code lang='und' xml:lang='und'>directory</code>,
<code lang='und' xml:lang='und'>link</code>,
<code lang='und' xml:lang='und'>socket</code>,
<code lang='und' xml:lang='und'>named pipe</code>,
<code lang='und' xml:lang='und'>char device</code>,
<code lang='und' xml:lang='und'>block device</code> or <code lang='und' xml:lang='und'>other</code>)</dd><p class="pad"></p>

<dt><a name="&#34;nlink&#34;"
><b>&#34;nlink&#34;</b></a></dt><p class="pad"></p>

<dd>number of hard links to the file</dd><p class="pad"></p>

<dt><a name="&#34;uid&#34;"
><b>&#34;uid&#34;</b></a></dt><p class="pad"></p>

<dd>user&#45;id of owner (Unix only,
always 0 on Windows)</dd><p class="pad"></p>

<dt><a name="&#34;gid&#34;"
><b>&#34;gid&#34;</b></a></dt><p class="pad"></p>

<dd>group&#45;id of owner (Unix only,
always 0 on Windows)</dd><p class="pad"></p>

<dt><a name="&#34;rdev&#34;"
><b>&#34;rdev&#34;</b></a></dt><p class="pad"></p>

<dd>on Unix systems,
represents the device type,
for special file inodes.
On Windows systems represents the same as dev</dd><p class="pad"></p>

<dt><a name="&#34;access&#34;"
><b>&#34;access&#34;</b></a></dt><p class="pad"></p>

<dd>time of last access</dd><p class="pad"></p>

<dt><a name="&#34;modification&#34;"
><b>&#34;modification&#34;</b></a></dt><p class="pad"></p>

<dd>time of last data modification</dd><p class="pad"></p>

<dt><a name="&#34;changes&#34;"
><b>&#34;changes&#34;</b></a></dt><p class="pad"></p>

<dd>time of last file status change</dd><p class="pad"></p>

<dt><a name="&#34;size&#34;"
><b>&#34;size&#34;</b></a></dt><p class="pad"></p>

<dd>file size,
in bytes</dd><p class="pad"></p>

<dt><a name="&#34;blocks&#34;"
><b>&#34;blocks&#34;</b></a></dt><p class="pad"></p>

<dd>block allocated for file; (Unix only)</dd><p class="pad"></p>

<dt><a name="&#34;blksize&#34;"
><b>&#34;blksize&#34;</b></a></dt><p class="pad"></p>

<dd>optimal file system I/O blocksize; (Unix only)</dd><p class="pad"></p>
</dl>

<dt><a name="lfs.chdir_(path)"
><b><code lang='und' xml:lang='und'>lfs.chdir (path)</b></code></a></dt><p class="pad"></p>

<dd>Changes the current working directory to the given <code lang='und' xml:lang='und'>path</code>.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> in case of success or <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dt><a name="lfs.currentdir_()"
><b><code lang='und' xml:lang='und'>lfs.currentdir ()</b></code></a></dt><p class="pad"></p>

<dd>Returns a string with the current working directory or <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dt><a name="lfs.dir_(path)"
><b><code lang='und' xml:lang='und'>lfs.dir (path)</b></code></a></dt><p class="pad"></p>

<dd>Lua iterator over the entries of a given directory.
Each time the iterator is called it returns a string with an entry of the directory; <code lang='und' xml:lang='und'>nil</code> is returned when there is no more entries.
Raises an error if <code lang='und' xml:lang='und'>path</code> is not a directory.</dd><p class="pad"></p>

<dt><a name="lfs.lock_(filehandle,_mode[,_start[,_length]])"
><b><code lang='und' xml:lang='und'>lfs.lock (filehandle, mode[, start[, length]])</b></code></a></dt><p class="pad"></p>

<dd>Locks a file or a part of it.
This function works on <i>open files</i>; the file handle should be specified as the first argument.
The string <code lang='und' xml:lang='und'>mode</code> could be either <code lang='und' xml:lang='und'>r</code> (for a read/shared lock) or <code lang='und' xml:lang='und'>w</code> (for a write/exclusive lock).
The optional arguments <code lang='und' xml:lang='und'>start</code> and <code lang='und' xml:lang='und'>length</code> can be used to specify a starting point and its length; both should be numbers.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> if the operation was successful; in case of error,
it returns <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dd>NOT YET IMPLEMENTED.</dd><p class="pad"></p>

<dt><a name="lfs.mkdir_(dirname)"
><b><code lang='und' xml:lang='und'>lfs.mkdir (dirname)</b></code></a></dt><p class="pad"></p>

<dd>Creates a new directory.
The argument is the name of the new directory.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> if the operation was successful; in case of error,
it returns <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dt><a name="lfs.rmdir_(dirname)"
><b><code lang='und' xml:lang='und'>lfs.rmdir (dirname)</b></code></a></dt><p class="pad"></p>

<dd>Removes an existing directory.
The argument is the name of the directory.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> if the operation was successful; in case of error,
it returns <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dt><a name="lfs.touch_(filepath_[,_atime_[,_mtime]])"
><b><code lang='und' xml:lang='und'>lfs.touch (filepath [, atime [, mtime]])</b></code></a></dt><p class="pad"></p>

<dd>Set access and modification times of a file.
This function is a bind to <code lang='und' xml:lang='und'>utime</code> function.
The first argument is the filename,
the second argument (<code lang='und' xml:lang='und'>atime</code>) is the access time,
and the third argument (<code lang='und' xml:lang='und'>mtime</code>) is the modification time.
Both times are provided in seconds (which should be generated with Lua standard function <code lang='und' xml:lang='und'>os.date</code>).
If the modification time is omitted,
the access time provided is used; if both times are omitted,
the current time is used.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> if the operation was successful; in case of error,
it returns <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dd>NOT YET IMPLEMENTED.</dd><p class="pad"></p>

<dt><a name="lfs.unlock_(filehandle[,_start[,_length]])"
><b><code lang='und' xml:lang='und'>lfs.unlock (filehandle[, start[, length]])</b></code></a></dt><p class="pad"></p>

<dd>Unlocks a file or a part of it.
This function works on <i>open files</i>; the file handle should be specified as the first argument.
The optional arguments <code lang='und' xml:lang='und'>start</code> and <code lang='und' xml:lang='und'>length</code> can be used to specify a starting point and its length; both should be numbers.</dd><p class="pad"></p>

<dd>Returns <code lang='und' xml:lang='und'>true</code> if the operation was successful; in case of error,
it returns <code lang='und' xml:lang='und'>nil</code> plus an error string.</dd><p class="pad"></p>

<dd>NOT YET IMPLEMENTED.</dd><p class="pad"></p>
</dl>

<h1><a name="AUTHORS"
>AUTHORS <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>Francois Perrad</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
