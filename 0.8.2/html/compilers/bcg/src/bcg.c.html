<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>bcg.c Byte Code Generator (BCG) Public API implementation.</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">bcg.c Byte Code Generator (BCG) Public API implementation.</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../html/index.html">Contents</a> | <a href="../../../../html/compilers.html">Compilers</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>bcg.c Byte Code Generator (BCG) Public API implementation.</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>The functions in this file implement the API defined in bcg.h,
the public API for BCG.</p>

<h2><a name="Methods"
>Methods <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<p>List of methods implemented in this file.</p>

<dl>
<dt><a name="BCG_info_*_BCG_create(void)"
><b><code lang='und' xml:lang='und'>BCG_info *BCG_create(void)</b></code></a></dt><p class="pad"></p>

<dd>This function create an instance of Byte Code Generator.</dd><p class="pad"></p>

<dt><a name="void_BCG_destroy(BCG_info_*bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_destroy(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>This methods destroys the specified instance of Byte Code Generator.</dd><p class="pad"></p>

<dt><a name="void_BCG_start_code_gen(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_start_code_gen(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Sets the state of BCG to the CODEGEN state.
If BCG is not able to switch to this state reasonably,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_end_code_gen(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_end_code_gen(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG back out of the CODEGEN state.
If BCG is not in the CODEGEN state,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_start_sub(BCG_info_*_bcg_info,_char_*sub_name,_char_*pragma)"
><b><code lang='und' xml:lang='und'>void BCG_start_sub(BCG_info *bcg_info, char *sub_name, char *pragma)</b></code></a></dt><p class="pad"></p>

<dd>Starts the code generation for a new subroutine object,
and adds the subroutine to the BCG symbol table.
If BCG is not in the CODEGEN state,
an exception is thrown.
Moves BCG into the SUB state.</dd><p class="pad"></p>

<dt><a name="void_BCG_end_sub(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_end_sub(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG out of the SUB state and runs the vanilla register allocator on the current subroutine unit.
If BCG is not in the SUB state,
an exceptio is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_start_call(BCG_info_*_bcg_info,_char_*sub_name)"
><b><code lang='und' xml:lang='und'>void BCG_start_call(BCG_info *bcg_info, char *sub_name)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG into the CALL state.
If BCG is not in the SUB state initially,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_end_call(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_end_call(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG out of the CALL state.
If BCG is not initially in the call state,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_start_op(BCG_info_*_bcg_info,_char_*op_name)"
><b><code lang='und' xml:lang='und'>void BCG_start_op(BCG_info *bcg_info, char *op_name)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG into the OP state.
Adds the current op <code lang='und' xml:lang='und'>op_name</code> into the current unit.
If BCG is not in the SUB state initially,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_end_op(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_end_op(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Moves BCG out of the OP state.
If BCG is not in the OP state initially,
an exception is thrown.
Resolves the full name of the current op.</dd><p class="pad"></p>

<dt><a name="void_BCG_var(BCG_info_*_bcg_info,_char_*var_name,_char_var_type)"
><b><code lang='und' xml:lang='und'>void BCG_var(BCG_info *bcg_info, char *var_name, char var_type)</b></code></a></dt><p class="pad"></p>

<dd>Adds the variable given by <code lang='und' xml:lang='und'>var_name</code> with type <code lang='und' xml:lang='und'>var_type</code> to the current op.
Makes sure the variable is located in the current unit&#39;s symbol table.
If BCG is not in the OP state to begin with,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_val(BCG_info_*_bcg_info,_char_*val,_char_val_type)"
><b><code lang='und' xml:lang='und'>void BCG_val(BCG_info *bcg_info, char *val, char val_type)</b></code></a></dt><p class="pad"></p>

<dd>Adds a constant value <code lang='und' xml:lang='und'>val</code> of type <code lang='und' xml:lang='und'>val_type</code> to the current op.
If BCG is not in the OP state,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_label(BCG_info_*_bcg_info,_char_*label)"
><b><code lang='und' xml:lang='und'>void BCG_label(BCG_info *bcg_info, char *label)</b></code></a></dt><p class="pad"></p>

<dd>Adds a label <code lang='und' xml:lang='und'>label</code> to the current unit.
If BCG is not in the SUB state,
an exception is thrown.</dd><p class="pad"></p>

<dt><a name="void_BCG_print_pasm(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>void BCG_print_pasm(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>This is the implementation for the op printPASM(),
which decompiles the bytecode to PASM.</dd><p class="pad"></p>

<dt><a name="bcg_info_private_*_bcg_info_private_create(BCG_info_*_bcg_info)"
><b><code lang='und' xml:lang='und'>bcg_info_private *bcg_info_private_create(BCG_info *bcg_info)</b></code></a></dt><p class="pad"></p>

<dd>Allocates space for <code lang='und' xml:lang='und'>bcg_info</code>&#39;s private data structure.
This structure is allocated from the system and needs to be freed.</dd><p class="pad"></p>

<dt><a name="void_bcg_info_private_destroy(BCG_info_*_bcg_info,_bcg_info_private_*_bcg_info_priv)"
><b><code lang='und' xml:lang='und'>void bcg_info_private_destroy(BCG_info *bcg_info, bcg_info_private *bcg_info_priv)</b></code></a></dt><p class="pad"></p>

<dd>Destroys <code lang='und' xml:lang='und'>bcg_info</code>&#39;s private data structure <code lang='und' xml:lang='und'>bcg_info_priv</code>.
Destroy&#39;s all units in the private structure.</dd><p class="pad"></p>

<dt><a name="void_bcg_info_add_unit(BCG_info_*_bcg_info,_bcg_unit_*_unit)"
><b><code lang='und' xml:lang='und'>void bcg_info_add_unit(BCG_info *bcg_info, bcg_unit *unit)</b></code></a></dt><p class="pad"></p>

<dd>Adds <code lang='und' xml:lang='und'>unit</code> to the double&#45;linked list in <code lang='und' xml:lang='und'>bcg_info</code>.</dd><p class="pad"></p>

<dt><a name="static_void_set_state(BCG_info_*_bcg_info,_bcg_state_state)"
><b><code lang='und' xml:lang='und'>static void set_state(BCG_info *bcg_info, bcg_state state)</b></code></a></dt><p class="pad"></p>

<dd>Set&#39;s BCG&#39;s internal state field to include <code lang='und' xml:lang='und'>state</code>.</dd><p class="pad"></p>

<dt><a name="static_void_unset_state(BCG_info_*_bcg_info,_bcg_state_state)"
><b><code lang='und' xml:lang='und'>static void unset_state(BCG_info *bcg_info, bcg_state state)</b></code></a></dt><p class="pad"></p>

<dd>Sets BCG&#39;s internal state field to exclude <code lang='und' xml:lang='und'>state</code>.</dd><p class="pad"></p>

<dt><a name="static_int_in_state(BCG_info_*_bcg_info,_bcg_state_state)"
><b><code lang='und' xml:lang='und'>static int in_state(BCG_info *bcg_info, bcg_state state)</b></code></a></dt><p class="pad"></p>

<dd>Determines if BCG is currently in <code lang='und' xml:lang='und'>state</code>.
Returns 1 if true,
0 otherwise.</dd><p class="pad"></p>
</dl>

<h1><a name="LICENSE"
>LICENSE <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>Copyright (C) 2006,
The Perl Foundation.</p>

<p>This is free software; you may redistribute it and/or modify it under the same terms as Parrot.</p>

<h1><a name="AUTHOR"
>AUTHOR <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>Vishal Soni &#60;vishalrsoni@gmail.com&#62;</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
