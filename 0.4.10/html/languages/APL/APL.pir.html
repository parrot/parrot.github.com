<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>APL compiler/interpreter</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">APL compiler/interpreter</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/languages.html">Language Implementations</a> | <a href="../../../html/apl.html">APL</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>APL &#45;&#45; APL compiler/interpreter</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Run from the command line:</p>

<pre lang='und' xml:lang='und'>    $ parrot APL.pbc file.apl                      # execute stmts in file.apl
    $ parrot APL.pbc                               # interactive mode

    $ parrot APL.pbc &#45;&#45;target=paarse [file.apl]    # display parse tree
    $ parrot APL.pbc &#45;&#45;target=PAST [file.apl]      # display AST</pre>

<p>Run from another Parrot program:</p>

<pre lang='und' xml:lang='und'>    .sub main :main
        # load the compiler
        load_bytecode &#39;APL.pbc&#39;

        # get the compiler
        .local pmc apl
        apl = compreg &#39;APL&#39;

        # APL source code
        source = unicode:&#34;FOO&#226;&#134;&#144;1 2&#34;

        # compile source
        $P0 = apl(source)
        # execute code
        $P0()

        # other compile options:
        $P0 = apl(source, target=&#62;&#39;parse&#39;)         # get parse tree
        $P0 = apl(source, target=&#62;&#39;PAST&#39;)          # get abstract syn tree
        $P0 = apl(source, target=&#62;&#39;PIR&#39;)           # get PIR code
    .end</pre>

<h1><a name="Description"
>Description <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>APL.pbc is an interpreter for the APL language. Its parser is implemented using a PGE grammar (src/APLGrammar.pg), and compilation is performed as a TGE tree transformation from the match object returned by the grammar into an abstract syntax tree. Then the abstract syntax tree is converted to PIR code, and the PIR code is compiled to return an executable Eval PMC.</p>

<h1><a name="Functions"
>Functions <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<h2><a name="APL_Namespace"
>APL Namespace <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="__onload()"
><b><code lang='und' xml:lang='und'>__onload()</b></code></a></dt><p class="pad"></p>

<dd>Initializes the compiling subsystem.</dd><p class="pad"></p>

<dt><a name="main(PMC_args)"
><b><code lang='und' xml:lang='und'>main(PMC args)</b></code></a></dt><p class="pad"></p>

<dd>Handles program control when the AST.pbc file is executed directly from the Parrot command line. It calls all of the submodule :load routines, then processes commands from the file specified on the command line or standard input.</dd><p class="pad"></p>

<dd>The &#45;&#45;target= command line option allows the compilation to display a parse tree or abstract syntax tree in lieu of executing program statements.</dd><p class="pad"></p>
</dl>

<h1><a name="LICENSE"
>LICENSE <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Copyright (C) 2006, The Perl Foundation.</p>

<p>This is free software; you may redistribute it and/or modify it under the same terms as Parrot.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
