<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Parrot class representing sprites in Parrot SDL</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Parrot class representing sprites in Parrot SDL</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../../html/index.html">Contents</a> | <a href="../../../../../html/libs.html">Libraries</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>SDL::Sprite &#45; Parrot class representing sprites in Parrot SDL</p>

<h1><a name="SYNOPSIS"
>SYNOPSIS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<pre lang='und' xml:lang='und'>        # load this library
        load_bytecode &#39;library/SDL/Sprite.pir&#39;

        # ... load a new SDL::Image into image

        # set the sprite&#39;s arguments
        .local pmc sprite_args

        sprite_args = new PerlHash
        sprite_args[ &#39;surface&#39;  ] = image
        sprite_args[ &#39;source_x&#39; ] =     0
        sprite_args[ &#39;source_y&#39; ] =     0
        sprite_args[ &#39;dest_x&#39;   ] =   270
        sprite_args[ &#39;dest_y&#39;   ] =   212
        sprite_args[ &#39;bgcolor&#39;  ] = black

        # if the image has multiple tiles that represent animation frames, set the
        # width and height of each tile
        sprite_args[ &#39;width&#39;    ] =   100
        sprite_args[ &#39;height&#39;   ] =    56

        # create a new SDL::Sprite object
        .local pmc sprite
        .local int sprite_type

        find_type sprite_type, &#39;SDL::Sprite&#39;
        sprite = new sprite_type, sprite_args

        # ... draw the sprite to surfaces as you will</pre>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>A SDL::Sprite object represents an image and its position. By changing the coordinates of the sprite, you&#39;ll change its position when it draws itself to a surface.</p>

<p>This is a class in progress; it has to represent several different drawing styles.</p>

<h1><a name="METHODS"
>METHODS <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>A SDL::Sprite object has the following methods:</p>

<dl>
<dt><a name="_new(_sprite_args_)"
>_new( sprite_args )</a></dt><p class="pad"></p>

<dd>Given a PerlHash full of arguments, sets the attributes of this object. The useful hash keys are as follows:</dd><p class="pad"></p>

<dl>
<dt><a name="surface"
>surface</a></dt><p class="pad"></p>

<dd>The SDL::Image from which to draw the sprite frames.</dd><p class="pad"></p>

<dt><a name="source_x"
>source_x</a></dt><p class="pad"></p>

<dd>The x coordinate within the <code lang='und' xml:lang='und'>surface</code> from which to start drawing.</dd><p class="pad"></p>

<dt><a name="source_y"
>source_y</a></dt><p class="pad"></p>

<dd>The y coordinate within the <code lang='und' xml:lang='und'>surface</code> from which to start drawing.</dd><p class="pad"></p>

<dt><a name="dest_x"
>dest_x</a></dt><p class="pad"></p>

<dd>The x coordinate within the destination surface to which to draw.</dd><p class="pad"></p>

<dt><a name="dest_y"
>dest_y</a></dt><p class="pad"></p>

<dd>The y coordinate within the destination surface to which to draw.</dd><p class="pad"></p>

<dt><a name="bgcolor"
>bgcolor</a></dt><p class="pad"></p>

<dd>A SDL::Color object representing the background color of the main surface. This will come in handy when drawing over the previous position of this sprite, unless you redraw the entire surface on every frame.</dd><p class="pad"></p>

<dt><a name="width"
>width</a></dt><p class="pad"></p>

<dd>The width of the image, in pixels, to draw. If you have multiple frames of an animation within the image provided, set the width here to the width of a single frame.</dd><p class="pad"></p>

<dd>If you don&#39;t set this value, this will use the current width of the image.</dd><p class="pad"></p>

<dt><a name="height"
>height</a></dt><p class="pad"></p>

<dd>The height of the image, in pixels, to draw. If you have multiple frames of an animation within the image provided, set the height here to the height of a single frame.</dd><p class="pad"></p>

<dd>If you don&#39;t set this value, this will use the current height of the image.</dd><p class="pad"></p>
</dl>

<dd><b>Note:</b> I&#39;m not completely thrilled with these arguments, so they may change slightly.</dd><p class="pad"></p>

<dd>The name of this method may change, as per discussion on p6i.</dd><p class="pad"></p>

<dt><a name="draw_undraw(_surface_)"
>draw_undraw( surface )</a></dt><p class="pad"></p>

<dd>Draws the image this object represents to the given SDL::Surface. This will return two SDL::Rect objects, one representing the previous position of this sprite and one representing the current position.</dd><p class="pad"></p>

<dd>Use this when dealing with a single&#45;buffered main window. You&#39;ll need to call <code lang='und' xml:lang='und'>update_rect()</code> on the <code lang='und' xml:lang='und'>surface</code> to make things actually show up, if it&#39;s the main surface.</dd><p class="pad"></p>

<dd>Note that this will fill in the previous position with the background color set in the constructor.</dd><p class="pad"></p>

<dt><a name="draw(_surface_)"
>draw( surface )</a></dt><p class="pad"></p>

<dd>Draws the image represented by this object to the given surface. This will also fill the previous position of the image with the background color. (Arguably, this is not always right, but I know about it and will figure something out, unless you have a better idea and let me know first.)</dd><p class="pad"></p>

<dd>Use this when dealing with a double&#45;buffered main window. In that case, you will have to call <code lang='und' xml:lang='und'>flip()</code> on the <code lang='und' xml:lang='und'>surface</code> yourself to make your changes appear.</dd><p class="pad"></p>

<dt><a name="surface()"
>surface()</a></dt><p class="pad"></p>

<dd>Returns the underlying surface of the image represented by this class. You should never need to call this directly, unless you&#39;re working with the raw SDL functions.</dd><p class="pad"></p>

<dt><a name="source_rect()"
>source_rect()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Rect object representing the source from which to draw within the underlying image.</dd><p class="pad"></p>

<dd>You should never need to call this directly.</dd><p class="pad"></p>

<dt><a name="prev_rect()"
>prev_rect()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Rect representing the previous position of this sprite within a destination surface.</dd><p class="pad"></p>

<dd>You should never need to call this directly.</dd><p class="pad"></p>

<dt><a name="rect()"
>rect()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Rect representing this sprite&#39;s current position within the destination surface.</dd><p class="pad"></p>

<dd>You should never need to call this directly.</dd><p class="pad"></p>

<dt><a name="bgcolor()"
>bgcolor()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Color object representing the background color to draw to the destination when undrawing the previous position of this sprite.</dd><p class="pad"></p>

<dd>You should never need to call this directly.</dd><p class="pad"></p>

<dt><a name="drawn_rect()"
>drawn_rect()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Rect representing the current position of the sprite within the destination surface as of the current drawing operation.</dd><p class="pad"></p>

<dd>You should <i>never</i> need to call this directly. I mean it. This may go away suddenly in a brilliant flash of insight.</dd><p class="pad"></p>

<dt><a name="undrawn_rect()"
>undrawn_rect()</a></dt><p class="pad"></p>

<dd>Returns the SDL::Rect representing the previous position of the sprite within the destination surface as of the current drawing operation.</dd><p class="pad"></p>

<dd>You should <i>never</i> need to call this directly. I mean it. This may go away suddenly in a brilliant flash of insight.</dd><p class="pad"></p>

<dt><a name="x(_[_new_x_coordinate_]_)"
>x( [ new_x_coordinate ] )</a></dt><p class="pad"></p>

<dd>Gets and sets the x coordinate of this sprite within the destination surface, in pixels. This is always an integer.</dd><p class="pad"></p>

<dt><a name="y(_[_new_y_coordinate_]_)"
>y( [ new_y_coordinate ] )</a></dt><p class="pad"></p>

<dd>Gets and sets the y coordinate of this sprite within the destination surface, in pixels. This is always an integer.</dd><p class="pad"></p>

<dt><a name="x_velocity(_[_new_x_velocity_]_)"
>x_velocity( [ new_x_velocity ] )</a></dt><p class="pad"></p>

<dd>Gets and sets the x velocity of this sprite. This is always an integer.</dd><p class="pad"></p>

<dd>Maybe this method shouldn&#39;t be here; it may move.</dd><p class="pad"></p>

<dt><a name="y_velocity(_[_new_y_velocity_]_)"
>y_velocity( [ new_y_velocity ] )</a></dt><p class="pad"></p>

<dd>Gets and sets the y velocity of this sprite. This is always an integer.</dd><p class="pad"></p>

<dd>Maybe this method shouldn&#39;t be here; it may move.</dd><p class="pad"></p>
</dl>

<h1><a name="AUTHOR"
>AUTHOR <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Written and maintained by chromatic, &#60;chromatic at wgz dot org&#62;, with suggestions from Jens Rieks. Please send patches, feedback, and suggestions to the Perl 6 Internals mailing list.</p>

<h1><a name="COPYRIGHT"
>COPYRIGHT <a href='#_top'><img alt='^' border=0 src='../../../../../resources/up.gif'></a></a></h1>

<p>Copyright (c) 2004, The Perl Foundation.</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
