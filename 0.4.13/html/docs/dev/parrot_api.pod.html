<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Notes on the PARROT_API macro</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Notes on the PARROT_API macro</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/docs.html">Documentation</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>docs/dev/parrot_api.pod &#45; Notes on the PARROT_API macro</p>

<h1><a name="OVERVIEW"
>OVERVIEW <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Some compilers and platforms export all symbols either by default or through a switch.
Others have no such mechanism and either need a list of symbols to export or need the symbols annotating in the source.</p>

<p>The <code lang='und' xml:lang='und'>PARROT_API</code> macro exists for the purpose of annotating symbols that should be exported.
One day,
it may be used to express which functions are in the Parrot extension API and which are not.
For now it should be used to mark anything that will be used by a shared library or by the main Parrot executable when Parrot is built as a shared library.</p>

<h1><a name="USAGE_NOTES"
>USAGE NOTES <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Incorrect usage of <code lang='und' xml:lang='und'>PARROT_API</code> can break the build on some platforms,
especially Win32.
The rules for how to use it are as follows.</p>

<dl>
<dt><a
>If you decorate a function with <b><code lang='und' xml:lang='und'>PARROT_API</b></code> in a .c file,
you must also decorate the symbol with <b><code lang='und' xml:lang='und'>PARROT_API</b></code> in all .h files that mention it.</a></dt><p class="pad"></p>

<dt><a
>If the symbol appears in more than one header file,
all of them must have <b><code lang='und' xml:lang='und'>PARROT_API</b></code> or none of them should.
Some with and some without won&#39;t work.</a></dt><p class="pad"></p>
</dl>

<p># vim: expandtab shiftwidth=2 tw=70:</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
