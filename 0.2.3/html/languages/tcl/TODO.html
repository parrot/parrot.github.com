<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Untitled</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Untitled</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/languages.html">Language Implementations</a> | <a href="../../../html/tcl.html">TCL</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="Various"
>Various <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="interactive_tclsh"
>interactive tclsh</a></dt><p class="pad"></p>

<dd>new parser breaks ability to send interactive commands to the shell,
add it back</dd><p class="pad"></p>

<dt><a name="remove_.is_space_macro"
>remove .is_space macro</a></dt><p class="pad"></p>

<dd>looks like &#60;is_whitespace&#62; opcode will handle this.</dd><p class="pad"></p>

<dt><a name="PIR_Tree"
>PIR Tree</a></dt><p class="pad"></p>

<dd>From autrijus&#39;s talk.
can we use this instead of the current string&#45;based compilation.</dd><p class="pad"></p>

<dt><a name="Makefile_deps"
>Makefile deps</a></dt><p class="pad"></p>

<dd>Should be more explicit about the PMC dependencies in the makefile.
*something* is causing things to get rebuilt unecessarily each time &#34;make tclsh&#34; is run.</dd><p class="pad"></p>

<dt><a name="keyed_access"
>keyed access</a></dt><p class="pad"></p>

<dd>tcl is not using Keys when getting from aggregates.
It probably should,
at least for language interoperability.</dd><p class="pad"></p>

<dt><a name="interactive_tclsh"
>interactive tclsh</a></dt><p class="pad"></p>

<dd>Still have to:</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> o catch any real_exceptions thrown.
 o respect tcl_prompt1, tcl_prompt2
 o deal with incomplete input (needs better error handling)</pre>

<dt><a name="[interpinfo_name]"
>[interpinfo name]</a></dt><p class="pad"></p>

<dd>how to do this from inside parrot? RT#36277</dd><p class="pad"></p>

<dt><a name="migrate_all_these_issues_to_RT_or_TODO_tests"
>migrate all these issues to RT or TODO tests</a></dt><p class="pad"></p>

<dt><a name="update_docs_[will]"
>update docs [will]</a></dt><p class="pad"></p>

<dd>(including add pod to all .pir)</dd><p class="pad"></p>
</dl>

<h1><a name="Programming_Issues"
>Programming Issues <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<h2><a name="C&#45;level_tasks"
>C&#45;level tasks <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="string_to_list"
>string to list</a></dt><p class="pad"></p>

<dd>TclList&#39;s new_from_string method should use the string to list code ...except that it turnsout this is non&#45;trivial.</dd><p class="pad"></p>
</dl>

<h2><a name="PIR&#45;level_tasks"
>PIR&#45;level tasks <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="__set/__read"
>__set/__read</a></dt><p class="pad"></p>

<dd>All commands should use the __set and __read functions defined in variables.pir instead of get_var. __read&#39;s interface conflicts slightly with the way tclparser splits things up &#45; it over&#45;helpfully tries to break the variable part out into array and index &#45; while read is already doing that for us.</dd><p class="pad"></p>

<dd>On a related note: No builtins or library code should be dealing with var sigils (i.e. <code lang='und' xml:lang='und'>$</code>) other than __set and __read.</dd><p class="pad"></p>

<dt><a name="subcommand_processing"
>subcommand processing</a></dt><p class="pad"></p>

<dd>Convert any commands that use subcommands to [info] style dispatch to ease maintenance. Subcommands invoked in this style get a single container PMC with all their args, but *NOT* the invoking command. so, given the tcl:</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> [info args foo]</pre>

<dd><code lang='und' xml:lang='und'>Tcl::info</code> is called with (args, foo), which then dispatched to:</dd><p class="pad"></p>

<dd><code lang='und' xml:lang='und'>_Tcl::builtins::info::args((foo))</code></dd><p class="pad"></p>

<dt><a name="implement_default_globals,_etc."
>implement default globals, etc.</a></dt><p class="pad"></p>

<dd>global variables provided by tcl libary. <a href='TODO'>tclvars</a>.</dd><p class="pad"></p>

<dd>global variables provided by tcl interpreter. <a href='TODO'>tclsh</a></dd><p class="pad"></p>

<dd>source per&#45;user settings. <a href='TODO'>tclsh</a></dd><p class="pad"></p>
</dl>

<h2><a name="Tests"
>Tests <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h2>

<p>We should be using the tcl&#45;test target as our language goal. For now, keep enough tests in our local test harness (<code lang='und' xml:lang='und'>t/</code>) so that we don&#39;t get any regressions. (Running the tcl test suite takes a while). This means we can get by with basic tests in <code lang='und' xml:lang='und'>t/</code> for now.</p>

<p>Long term goal would be to remove any tests in <code lang='und' xml:lang='und'>t/</code> that are testing things that are already tested in tcl. Partcl&#39;s checked in test suite should just be checking partcl&#45;specific functionaliity.</p>

<h1><a name="Uncategorized_Issues"
>Uncategorized Issues <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="provide_a_way_to_access_existing_library_PIR_from_Tcl."
>provide a way to access existing library PIR from Tcl.</a></dt><p class="pad"></p>

<dd>Perhaps via [namespace import]? Can fake it right now with [inline]</dd><p class="pad"></p>

<dt><a name="multiple_level_lists"
>multiple level lists</a></dt><p class="pad"></p>

<dt><a name="[expr]"
>[expr]</a></dt><p class="pad"></p>

<dd>Clean up [expr]. MUUUUCH room for improvement there. [expr] is the source of most of our abysmal performance in bench.tcl.</dd><p class="pad"></p>

<dd>the expr AST could use a rework. Be nice if it just passed around something invokable.</dd><p class="pad"></p>

<dd>clean up expr so that it&#39;s not passing around type indicators. &#45; just use PMCs everywhere. (Though we may still need to have CONST vs. VARIABLE types.)</dd><p class="pad"></p>

<dd>The type indicator is also used to disambiguate operators and function calls from operands. We can easily remove it for operands, but how to cleanly remove this for operators?</dd><p class="pad"></p>

<dd>TBD: strings, floats as operands &#45; (many of the math funcs return floats but you can&#39;t specify them, and not everything takes them (try, for example, [expr sin(1) + sin(1)] vs [expr sin(1) * sin(1)].)</dd><p class="pad"></p>

<dd>TBD: blocks, commands, and strings as operands</dd><p class="pad"></p>

<dd>TBD: logical binary ops &#38; ternary op (need deferred evaluation) ; unary ops; ops that work on strings only.</dd><p class="pad"></p>

<dd>TBD: functions that take &#62; 1 arg.</dd><p class="pad"></p>

<dd>TBD: Argument type requirements &#45; Currently works ONLY on bitand &#45; esp need to get any that require int&#45;only args, as we can now /generate/ floats, even if we cannot specify them. This is all supportable by MMD &#45; we just need to specify the correct errors to throw.</dd><p class="pad"></p>
</dl>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
