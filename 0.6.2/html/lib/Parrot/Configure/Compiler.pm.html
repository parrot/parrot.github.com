<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
    <HEAD>
        <TITLE>C&#45;Related methods for configuration</TITLE>
        <LINK REL="stylesheet" TYPE="text/css"
            HREF="../../../../resources/perl.css"
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY>
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">C&#45;Related methods for configuration</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../../html/index.html">Contents</a> | <a href="../../../../html/perl.html">Perl Modules</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="NAME"
>NAME <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>Parrot::Configure::Compiler &#45; C&#45;Related methods for configuration</p>

<h1><a name="DESCRIPTION"
>DESCRIPTION <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<p>The Parrot::Configure::Compiler module provides methods inherited by Parrot::Configure which prepare and/or run C programs during compilation.</p>

<h2><a name="Methods"
>Methods <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h2>

<dl>
<dt><a name="cc_gen()"
><b><code lang='und' xml:lang='und'>cc_gen()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;cc_gen($source)</pre>

<dd>Generates <em lang='und' xml:lang='und'>test.c</em> from the specified source file.</dd><p class="pad"></p>

<dt><a name="cc_build()"
><b><code lang='und' xml:lang='und'>cc_build()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;cc_build($cc_args, $link_args)</pre>

<dd>These items are used from current config settings:</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>  $cc, $ccflags, $ldout, $o, $link, $linkflags, $cc_exe_out, $exe, $libs</pre>

<dd>Calls the compiler and linker on <em lang='und' xml:lang='und'>test.c</em>.</dd><p class="pad"></p>

<dt><a name="cc_run()"
><b><code lang='und' xml:lang='und'>cc_run()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;cc_run();</pre>

<dd>Calls the <em lang='und' xml:lang='und'>test</em> (or <em lang='und' xml:lang='und'>test.exe</em>) executable. Any output is directed to <em lang='und' xml:lang='und'>test.out</em>.</dd><p class="pad"></p>

<dt><a name="cc_run_capture()"
><b><code lang='und' xml:lang='und'>cc_run_capture()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;cc_run_capture();</pre>

<dd>Same as <code lang='und' xml:lang='und'>cc_run()</code> except that warnings and errors are also directed to <em lang='und' xml:lang='und'>test.out</em>.</dd><p class="pad"></p>

<dt><a name="cc_clean()"
><b><code lang='und' xml:lang='und'>cc_clean()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;cc_clean();</pre>

<dd>Cleans up all files in the root folder that match the glob <em lang='und' xml:lang='und'>test.*</em>.</dd><p class="pad"></p>

<dt><a name="genfile()"
><b><code lang='und' xml:lang='und'>genfile()</b></code></a></dt><p class="pad"></p>

<pre lang='und' xml:lang='und'>    $conf&#45;&#62;genfile($source, $target, %options);</pre>

<dd>Takes the specified source file, replacing entries like <code lang='und' xml:lang='und'>@FOO@</code> with <code lang='und' xml:lang='und'>FOO</code>&#39;s value from the configuration system&#39;s data, and writes the results to specified target file.</dd><p class="pad"></p>

<dd>Respects the following options when manipulating files (Note: most of the replacement syntax assumes the source text is on a single line.)</dd><p class="pad"></p>

<dl>
<dt><a name="makefile"
>makefile</a></dt><p class="pad"></p>

<dd>If set to a true value, this flag sets (unless overriden) <code lang='und' xml:lang='und'>comment_type</code> to &#39;#&#39;, <code lang='und' xml:lang='und'>replace_slashes</code> to enabled, and <code lang='und' xml:lang='und'>conditioned_lines</code> to enabled.</dd><p class="pad"></p>

<dd>If the name of the file being generated ends in <code lang='und' xml:lang='und'>Makefile</code>, this option defaults to true.</dd><p class="pad"></p>

<dt><a name="conditioned_lines"
>conditioned_lines</a></dt><p class="pad"></p>

<dd>If conditioned_lines is true, then lines in the file that begin with: <code lang='und' xml:lang='und'>#CONDITIONED_LINE(var):</code> are skipped if the var condition is false. Lines that begin with <code lang='und' xml:lang='und'>#INVERSE_CONDITIONED_LINE(var):</code> are skipped if the var condition is true. For instance:</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'>  #CONDITIONED_LINE(win32): $(SRC_DIR)/atomic/gcc_x86$(O)</pre>

<dd>will be processed if the platform is win32.</dd><p class="pad"></p>

<dt><a name="comment_type"
>comment_type</a></dt><p class="pad"></p>

<dd>This option takes has two possible values, <code lang='und' xml:lang='und'>#</code> or <code lang='und' xml:lang='und'>/*</code>. If present and set to one of these two values, the generated file will contain a generated header that is commented out appropriately.</dd><p class="pad"></p>

<dt><a name="ignore_pattern"
>ignore_pattern</a></dt><p class="pad"></p>

<dd>A regular expression. Any lines in the file matching this expression are ignored when determining if the target file has changed (and should therefore be overwritten with a new copy).</dd><p class="pad"></p>

<dt><a name="feature_file"
>feature_file</a></dt><p class="pad"></p>

<dd>When feature_file is set to a true value, a lines beginning with <code lang='und' xml:lang='und'>#perl</code> forces the remaining lines of the file to be evaluated as perl code. Before this evaluation occurs, any substitution of @@ values is performed on the original text.</dd><p class="pad"></p>

<dt><a name="replace_slashes"
>replace_slashes</a></dt><p class="pad"></p>

<dd>If set to a true value, this causes any <code lang='und' xml:lang='und'>/</code>s in the file to automatically be replaced with an architecture appropriate slash. <code lang='und' xml:lang='und'>/</code> or <code lang='und' xml:lang='und'>\</code>. This is a very helpful option when writing Makefiles.</dd><p class="pad"></p>

<dt><a name="expand_gmake_syntax"
>expand_gmake_syntax</a></dt><p class="pad"></p>

<dd>If set to a true value, then certain types of gmake syntax will be expanded into their full equivalents. For example:</dd><p class="pad"></p>

<pre lang='und' xml:lang='und'> $(wildcard PATTERN)</pre>

<dd>Will be replaced <i>at config time</i> with the list of files that match this pattern. Note! Be very careful when determining whether or not to disable this expansion during config time and letting gmake evaluate these: the config system itself may change state of the filesystem, causing the directives to expand differently depending on when they&#39;re run. Another potential issue to consider there is that most makefiles, while generated from the root directory, are <i>run</i> from a subdirectory. So relative path names become an issue.</dd><p class="pad"></p>

<dd>The gmake replacements are done repeatedly on a single line, so nested syntax works ok.</dd><p class="pad"></p>

<dl>
<dt><a name="addprefix"
>addprefix</a></dt><p class="pad"></p>

<dt><a name="basename"
>basename</a></dt><p class="pad"></p>

<dt><a name="wildcard"
>wildcard</a></dt><p class="pad"></p>

<dt><a name="notdir"
>notdir</a></dt><p class="pad"></p>
</dl>
</dl>
</dl>

<h1><a name="SEE_ALSO"
>SEE ALSO <a href='#_top'><img alt='^' border=0 src='../../../../resources/up.gif'></a></a></h1>

<dl>
<dt><a name="docs/configuration.pod"
><em lang='und' xml:lang='und'><a href="../../../docs/configuration.pod.html">docs/configuration.pod</a></em></a></dt><p class="pad"></p>
</dl>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../../resources/parrot_small.png"
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
