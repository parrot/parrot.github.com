<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>  
    <HEAD>
        <TITLE>Untitled</TITLE>
        <LINK REL="stylesheet" TYPE="text/css" 
            HREF="../../../resources/perl.css" 
            TITLE="Default CSS2" media="screen">
    </HEAD>
    <BODY> 
        <A NAME="_top"></A>
        <TABLE CELLSPACING="0" WIDTH="730">
            <TR>
                <TD WIDTH="100%" COLSPAN="2" CLASS="BANNER">parrotcode: <SPAN CLASS="title">Untitled</SPAN></TD>
            </TR>
            <TR>
                <TD WIDTH="100%" COLSPAN="2"  ID="NAV" STYLE="border-bottom: 1px solid #191970;">
                    <a href="../../../html/index.html">Contents</a> | <a href="../../../html/languages.html">Language Implementations</a> | <a href="../../../html/pir.html">PIR</a>
                </TD>
            </TR>
        </TABLE>
        <DIV CLASS="pod">

<h1><a name="Title"
>Title <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Roadmap for languages/PIR</p>

<h1><a name="Intro"
>Intro <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>This document describes a roadmap for languages/PIR,
the PIR implementation using the Parrot Compiler Tools: PGE and TGE.</p>

<p>This document does NOT describe IMCC,
the current implementation of Parrot Intermediate Representation (PIR) used by Parrot.</p>

<p>Neither does this document describe a TODO list; you can find that list in the,
you guess it,
TODO file.</p>

<h1><a name="What&#39;s_the_goal_of_languages/PIR?"
>What&#39;s the goal of languages/PIR? <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>The goal is to have a PIR implementation in PIR itself :&#45;)</p>

<p>Just like most C compilers are implemented in C,
it&#39;d be nice to define PIR in PIR itself.
Moreover,
this is a good test&#45;case of the Parrot Compiler Tools Suite (PCTS),
consisting of PGE (for parsers) and TGE (for tree transformations).</p>

<p>Besides PIR,
Perl6 and a number of other languages is being implemented using the PCTS.</p>

<p>Another,
secondary,
goal is to *define* PIR; there is not yet a final description that precisely states the grammar of PIR.
(The Yacc input file is big and hard to read).
This also gives the opportunity to clean up the grammar,
and present a nice and clean grammar for Parrot 1.0.</p>

<h1><a name="Where_is_languages/PIR_now?"
>Where is languages/PIR now? <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Currently,
work is being done on the PIR parser.
The parser is being implemented using the Parrot Grammar Engine (PGE),
that implements the subsystem of Parrot that will process Perl6 regex&#45;es and rules.</p>

<h1><a name="Where_is_languages/PIR_going?"
>Where is languages/PIR going? <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>As soon as the parser is done,
there should be a simple processing pass that reads the parse&#45;tree and emits PIR instructions.
That&#39;s right,
it will be a PIR&#45;&#62;PIR compiler.
This works,
because currently PIR is already implemented by IMCC,
using Lex and Yacc.</p>

<p>Then after that,
*and* if there is an API to emit bytecode,
(or at least a way to call into Parrot to do the stuff it&#39;s supposed to do),
the Real Parrot Bytecode can be emitted,
so that IMCC can be skipped altogether.</p>

<h1><a name="What_main_tasks_need_to_be_done?"
>What main tasks need to be done? <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>This is only a top&#45;level view (a.k.a.
ROADMAP),
for a detailed list,
see TODO.</p>

<dl>
<dt><a name="Finish_and_TEST_the_parser"
>Finish and TEST the parser</a></dt><p class="pad"></p>

<dt><a name="Implement_a_first_back&#45;end:_emit_PIR"
>Implement a first back&#45;end: emit PIR</a></dt><p class="pad"></p>

<dt><a name="Implement_a_second_back&#45;end:_call_the_bytecode_API"
>Implement a second back&#45;end: call the bytecode API</a></dt><p class="pad"></p>
</dl>

<h1><a name="Author"
>Author <a href='#_top'><img alt='^' border=0 src='../../../resources/up.gif'></a></a></h1>

<p>Klaas&#45;Jan Stol &#60;parrotcode@gmail.com&#62;</p>

<p>January 2007</p>
        </DIV>
        <P>
        <TABLE BORDER="0" WIDTH="730" CELLSPACING="0" CELLPADDING="0">
            <TR ALIGN="RIGHT">
                <TD WIDTH="590" VALIGN="MIDDLE">
                    <BR>
                    <DIV CLASS="FOOTER">
                        <DIV ALIGN="LEFT">
                        </DIV>
                    </DIV>
                </TD>
                <TD VALIGN="middle" ALIGN="center">
                    <IMG BORDER=0
                        SRC="../../../resources/parrot.small.png" 
                        ALT="parrot">
                </TD>
            </TR>
        </TABLE>
    </BODY>
</HTML>
